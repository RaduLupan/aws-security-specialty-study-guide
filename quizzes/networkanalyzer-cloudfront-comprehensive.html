<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Access Analyzer & CloudFront Security Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #3b82f6; --accent-secondary: #60a5fa; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(59, 130, 246, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(59, 130, 246, 0.2); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25), inset 0 0 12px rgba(59, 130, 246, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(59, 130, 246, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(59, 130, 246, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(59, 130, 246, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(59, 130, 246, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(59, 130, 246, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(59, 130, 246, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(59, 130, 246, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 3: Infrastructure Security (26%)</span>
            <h1>üîç Network Access Analyzer & CloudFront Security</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">25</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">62:30</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">25</span></span>
                    <span class="timer" id="timer">62:30</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What type of analysis does VPC Network Access Analyzer perform to identify network paths?", options: ["It performs real-time packet capture and analysis by deploying agents on EC2 instances to monitor actual traffic", "It uses automated reasoning algorithms to perform static analysis of network configurations without transmitting packets", "It uses machine learning models trained on historical VPC Flow Logs to predict network access patterns", "It deploys network sensors in each availability zone that actively probe network paths and report connectivity"], correct: 1, explanation: "Network Access Analyzer uses automated reasoning algorithms to perform static analysis of network configurations. It analyzes the configuration state (security groups, NACLs, route tables, etc.) without actually transmitting packets in the network. This makes it safe to run without impacting production traffic.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 2, question: "A security engineer creates a Network Access Scope to find all paths where internet access is possible from production EC2 instances. What does Network Access Analyzer return?", options: ["A comprehensive list of ALL possible network paths from every EC2 instance to the internet", "A representative, diverse set of findings from among all possible paths that match the scope", "Only the single most likely path based on route table priority and security group rules", "A complete graph of all network resources with connectivity scores for each path"], correct: 1, explanation: "Network Access Analyzer makes a best-effort attempt to return a diverse, representative set of findings from among all possible findings that match the scope. It does not guarantee to return ALL possible paths, especially in complex networks with many potential routes.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 3, question: "Which resources can be source or destination endpoints in Network Access Analyzer findings?", options: ["Only EC2 instances, RDS databases, and Lambda functions in VPCs", "Internet gateways, network interfaces, transit gateway attachments, VPC endpoints, and VPC peering connections", "All AWS resources that can send or receive network traffic in any AWS service", "Only resources with public IP addresses or Elastic IP addresses attached"], correct: 1, explanation: "Network Access Analyzer findings can start or end at specific resource types including: internet gateways, network interfaces, transit gateway attachments, VPC interface/gateway/GWLB endpoints, VPC service endpoints, VPC peering connections, and virtual private gateways. Other resource types cannot be source/destination endpoints.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 4, question: "A company has Network Firewall deployed in their VPC. What limitation should they be aware of when using Network Access Analyzer?", options: ["Network Access Analyzer cannot analyze paths that include Network Firewall - these paths are excluded from findings", "Network Access Analyzer reports paths through Network Firewall but does NOT analyze firewall rules, so reported paths may be blocked by firewall configuration", "Network Access Analyzer automatically parses Network Firewall rules and only reports paths that would pass through the firewall", "Network Access Analyzer requires Network Firewall logs to be enabled in CloudWatch Logs before it can analyze those paths"], correct: 1, explanation: "Network Access Analyzer does NOT analyze Network Firewall rules. It will report network paths that pass through Network Firewalls, but these paths may be spurious (false positives) if the firewall rules would actually block that traffic. You must manually verify firewall rules for reported paths.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 5, question: "Which statement about Network Access Analyzer's scope is correct?", options: ["Network Access Analyzer can analyze paths across multiple AWS accounts and regions in a single analysis", "Network Access Analyzer only reports paths within a single account and region - cross-account/cross-region paths are not supported", "Network Access Analyzer can analyze cross-region paths but not cross-account paths", "Network Access Analyzer supports cross-account analysis only if AWS Organizations is configured with resource sharing enabled"], correct: 1, explanation: "Network Access Analyzer is limited to analyzing paths within a single AWS account and region. It does not report paths that contain resources in other accounts or regions, including resources in subnets shared from other accounts or connected via VPC peering, VPN, or Transit Gateway to other accounts/regions.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 6, question: "What protocols and IP versions does Network Access Analyzer support?", options: ["IPv4 and IPv6 using TCP, UDP, ICMP, and other IP protocols", "IPv4 only using TCP or UDP protocols", "IPv4 and IPv6 using any IP protocol number", "IPv6 only using TCP, UDP, and ICMPv6 protocols"], correct: 1, explanation: "Network Access Analyzer is limited to IPv4 analysis using TCP or UDP protocols. It does not support IPv6 or other protocols like ICMP, ESP (IPsec), or GRE. This is an important limitation to be aware of when analyzing network access.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 7, question: "A security team wants to identify all paths where EC2 instances in the Dev VPC can reach EC2 instances in the Prod VPC through a Transit Gateway. What should they create?", options: ["A Network Access Scope with source as Dev VPC network interfaces and destination as Prod VPC network interfaces", "A VPC Reachability Analyzer path from a Dev instance to a Prod instance", "A VPC Flow Logs query filter to identify cross-VPC traffic patterns", "A Security Hub custom insight to aggregate cross-VPC connectivity findings"], correct: 0, explanation: "To identify potential connectivity paths, create a Network Access Scope defining the source (network interfaces in Dev VPC) and destination (network interfaces in Prod VPC). Network Access Analyzer will find all paths matching this scope. VPC Reachability Analyzer tests specific source/destination pairs, while Network Access Analyzer finds all potential paths matching a scope.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/getting-started.html" },
            { id: 8, question: "What is the maximum time a Network Access Analyzer analysis can run before it times out?", options: ["30 minutes for simple networks, up to 2 hours for complex configurations", "4 hours regardless of network complexity", "8 hours for analyses involving Transit Gateways and multiple VPCs", "There is no timeout; analyses run until completion or manual cancellation"], correct: 1, explanation: "A running Network Access Analyzer analysis times out after 4 hours. For very complex network configurations with many resources, you may need to create more focused Network Access Scopes to complete the analysis within this time limit.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 9, question: "How does Network Access Analyzer handle bidirectional network connectivity analysis?", options: ["It automatically analyzes both directions (A to B and B to A) in a single analysis run", "It only performs unidirectional analysis - you must create separate scopes to analyze both directions", "It analyzes bidirectional connectivity only if both resources have symmetric security group rules", "Bidirectional analysis requires enabling VPC Flow Logs in both source and destination VPCs"], correct: 1, explanation: "Network Access Analyzer only reports unidirectional analysis. A finding indicates that a packet can be sent from source to destination, but does not indicate that a return packet can be sent back. To analyze both directions, you must create two separate Network Access Scopes (A‚ÜíB and B‚ÜíA).", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 10, question: "Which AWS service is supported as a path resource in Network Access Analyzer findings?", options: ["AWS Global Accelerator endpoints routing to Application Load Balancers", "AWS Direct Connect gateways connecting on-premises networks to VPCs", "NAT gateways and Network ACLs within VPC network paths", "AWS Transit Gateway peering connections to other regions"], correct: 2, explanation: "Network Access Analyzer supports NAT gateways, Network ACLs, security groups, route tables, load balancers, and other VPC networking resources as path resources. It does NOT support Global Accelerator, Direct Connect, Transit Gateway peering to other regions/accounts, or API Gateway.", docLink: "https://docs.aws.amazon.com/vpc/latest/network-access-analyzer/how-network-access-analyzer-works.html" },
            { id: 11, question: "What is the recommended method for restricting access to S3 origins in CloudFront?", options: ["Use S3 bucket policies to allow access only from CloudFront edge location IP ranges", "Use Origin Access Control (OAC) with CloudFront service principal authentication", "Use Origin Access Identity (OAI) with CloudFront user credentials", "Use IAM roles for EC2 instances to access S3 through CloudFront"], correct: 1, explanation: "AWS recommends Origin Access Control (OAC) over the legacy Origin Access Identity (OAI). OAC supports all S3 regions including opt-in regions, SSE-KMS encryption, and dynamic requests (PUT/DELETE). OAC uses the CloudFront service principal with condition-based bucket policies for secure origin access.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html" },
            { id: 12, question: "When using CloudFront Origin Access Control (OAC) with S3, what must be configured in the S3 bucket policy?", options: ["Allow the CloudFront distribution's ARN as principal with s3:GetObject action", "Allow the cloudfront.amazonaws.com service principal with a condition matching the distribution ARN", "Allow the OAC resource ARN as principal with s3:* permissions", "Allow public access with a condition restricting to CloudFront edge locations"], correct: 1, explanation: "The S3 bucket policy must allow the CloudFront service principal (cloudfront.amazonaws.com) with a Condition element that restricts access to requests from your specific CloudFront distribution using AWS:SourceArn. This ensures only your CloudFront distribution can access the bucket, not all CloudFront distributions.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html" },
            { id: 13, question: "What additional configuration is required when using CloudFront OAC with S3 objects encrypted with SSE-KMS?", options: ["Enable CloudFront to use AWS-managed KMS keys instead of customer-managed keys", "Add a statement to the KMS key policy allowing the CloudFront service principal to use the key", "Configure CloudFront to decrypt objects at edge locations before caching", "Create a separate KMS key for CloudFront and replicate objects with dual encryption"], correct: 1, explanation: "When S3 objects are encrypted with SSE-KMS, you must add a statement to the KMS key policy that allows the CloudFront service principal to decrypt objects. This is in addition to the S3 bucket policy. Include a Condition element to restrict this to your specific CloudFront distribution ARN.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html" },
            { id: 14, question: "Which CloudFront OAC signing behavior ensures communication between CloudFront and S3 is always over HTTPS?", options: ["Do not sign requests (recommended)", "Do not override authorization header", "Sign requests (recommended)", "Always use HTTPS protocol policy"], correct: 2, explanation: "When using OAC, you must choose 'Sign requests (recommended)' to ensure communication between CloudFront and S3 is always over HTTPS. If you choose 'Do not sign requests' or 'Do not override authorization header', CloudFront uses the viewer protocol policy instead, which may allow HTTP.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html" },
            { id: 15, question: "What is a key limitation when using CloudFront OAC with S3?", options: ["OAC does not support S3 buckets in opt-in regions launched after December 2022", "OAC does not support S3 buckets configured as website endpoints - you must use custom origin configuration", "OAC requires S3 Transfer Acceleration to be enabled on the origin bucket", "OAC only works with S3 Standard storage class - objects in Glacier cannot be served"], correct: 1, explanation: "CloudFront OAC (and OAI) do not support S3 buckets configured as website endpoints. If your origin is an S3 website endpoint, you must configure it as a custom origin in CloudFront, which means you cannot use OAC or OAI. OAC also doesn't support origin redirect using Lambda@Edge.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html" },
            { id: 16, question: "A company wants to serve private video content where users must be authenticated before accessing any video file. Which CloudFront feature is most appropriate?", options: ["Use signed URLs with expiration times for each individual video file", "Use signed cookies to provide access to multiple restricted video files after authentication", "Use AWS WAF with rate-based rules to limit access to authenticated users", "Use CloudFront field-level encryption to encrypt video metadata"], correct: 1, explanation: "Signed cookies are ideal when you want to provide access to multiple restricted files (like a video library) after a single authentication event. Users don't need separate signed URLs for each file. Signed URLs are better for single-file access or when you want different expiration times per file.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-choosing-signed-urls-cookies.html" },
            { id: 17, question: "What is required to create signed URLs or signed cookies for CloudFront private content?", options: ["An IAM user with cloudfront:CreateSignedUrl permissions", "A trusted key group containing public keys, or a CloudFront key pair associated with an AWS account", "An AWS Certificate Manager (ACM) certificate for the CloudFront distribution", "A Lambda@Edge function attached to the viewer request event"], correct: 1, explanation: "To create signed URLs or cookies, you must configure trusted signers. AWS recommends using trusted key groups (containing RSA public keys) rather than CloudFront key pairs associated with AWS accounts. The private key corresponding to the public key is used to sign URLs/cookies, and CloudFront uses the public key to verify signatures.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-trusted-signers.html" },
            { id: 18, question: "What is the primary purpose of CloudFront field-level encryption?", options: ["To encrypt all data transmitted between viewers and CloudFront edge locations", "To encrypt specific sensitive data fields at the edge before forwarding to origin, ensuring only applications with the private key can decrypt", "To provide end-to-end encryption for CloudFront distributions serving HTTPS content", "To encrypt CloudFront cache at edge locations to protect cached content from unauthorized access"], correct: 1, explanation: "Field-level encryption encrypts specific data fields (up to 10 fields per request) at the CloudFront edge using asymmetric encryption. The data remains encrypted throughout your application stack, and only components with the private key can decrypt it. This protects sensitive data like credit card numbers or SSNs even if other parts of the application stack are compromised.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/field-level-encryption.html" },
            { id: 19, question: "How many data fields can be encrypted using CloudFront field-level encryption in a single request?", options: ["Up to 5 data fields per request", "Up to 10 data fields per request", "Up to 25 data fields per request", "Unlimited fields - all POST data can be encrypted"], correct: 1, explanation: "CloudFront field-level encryption can encrypt up to 10 data fields in a single request. You must specify individual fields to encrypt - you cannot encrypt all data in a request. This is designed for protecting specific sensitive fields like credit card numbers, SSNs, or other PII.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/field-level-encryption.html" },
            { id: 20, question: "What type of encryption does CloudFront field-level encryption use?", options: ["Symmetric encryption using AES-256 with keys managed by AWS KMS", "Asymmetric encryption (public key cryptography) with RSA 2048-bit keys", "Symmetric encryption using customer-provided keys stored in AWS Secrets Manager", "Hash-based encryption using SHA-256 for data integrity verification"], correct: 1, explanation: "CloudFront field-level encryption uses asymmetric encryption (public key cryptography). You provide a public key to CloudFront which encrypts the data. Only the corresponding private key (which you keep secure) can decrypt the data. The public key provided to CloudFront cannot decrypt the values.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/field-level-encryption.html" },
            { id: 21, question: "A security engineer wants to restrict CloudFront access to an Application Load Balancer so that users cannot bypass CloudFront. What is the recommended approach?", options: ["Configure the ALB security group to only allow traffic from CloudFront edge location IP ranges", "Configure CloudFront to add a custom HTTP header with a secret value, then configure the ALB to only accept requests with that header", "Use AWS WAF on the ALB to block all requests that don't originate from CloudFront distribution IDs", "Enable AWS Shield Advanced on both CloudFront and the ALB to establish trust"], correct: 1, explanation: "The recommended approach is to configure CloudFront to add a custom HTTP header with a secret value to origin requests, then configure the ALB listener rules to only forward requests containing that exact header value. Rotate the header name/value periodically. CloudFront IP ranges change frequently, making IP-based restrictions difficult to maintain.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/restrict-access-to-load-balancer.html" },
            { id: 22, question: "What is the difference between canned policies and custom policies for CloudFront signed URLs?", options: ["Canned policies support only HTTP, custom policies support HTTPS", "Canned policies allow access until a specific expiration time, custom policies can include IP address restrictions and date ranges", "Canned policies are managed by AWS, custom policies are customer-managed", "Canned policies work with signed URLs only, custom policies work with signed cookies only"], correct: 1, explanation: "Canned policies are simpler and only specify an expiration time. Custom policies provide more control: you can specify IP address/CIDR restrictions, date ranges (valid from/to times), and are required for certain use cases. Both work with signed URLs and signed cookies.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-signed-urls.html" },
            { id: 23, question: "Which CloudFront security feature helps protect against DDoS attacks?", options: ["Field-level encryption prevents volumetric attacks by encrypting payload data", "Integration with AWS Shield Standard (automatic) and Shield Advanced (optional) for DDoS protection", "Origin Access Control blocks all non-authenticated requests at the edge", "Signed URLs rate-limit requests based on token expiration times"], correct: 1, explanation: "CloudFront automatically includes AWS Shield Standard protection against common DDoS attacks at no additional cost. You can optionally enable AWS Shield Advanced for enhanced DDoS protection, 24/7 DDoS Response Team (DRT) support, and cost protection. Additionally, AWS WAF can be integrated for application-layer protection.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/SecurityAndPrivateContent.html" },
            { id: 24, question: "A company needs to restrict CloudFront content distribution to users in specific countries only. Which feature should they use?", options: ["Use CloudFront signed URLs with country codes embedded in the custom policy", "Use CloudFront geo-restriction (geo-blocking) to create allow-list or block-list of countries", "Use AWS WAF geo-match conditions to filter requests based on source country", "Use Route 53 geolocation routing policies to direct users to region-specific CloudFront distributions"], correct: 1, explanation: "CloudFront provides native geo-restriction (geo-blocking) feature that allows you to create an allow-list (whitelist) or block-list (blacklist) of countries. This is enforced at the edge before content is served. While AWS WAF can also filter by country, CloudFront geo-restriction is simpler and purpose-built for this use case.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/SecurityAndPrivateContent.html" },
            { id: 25, question: "What is the purpose of CloudFront Origin Shield?", options: ["It provides DDoS protection for origin servers using AWS Shield Advanced integration", "It adds an additional caching layer between regional edge caches and origin to reduce origin load and improve cache hit ratio", "It encrypts data between CloudFront edge locations and origin servers using TLS 1.3", "It implements Web Application Firewall rules specifically designed for origin server protection"], correct: 1, explanation: "Origin Shield is an additional caching layer that sits between CloudFront regional edge caches and your origin. It consolidates requests to the origin, reducing origin load and improving the cache hit ratio. This is especially useful when you have viewers distributed globally or when using multiple CDNs. It's a performance optimization, not a security feature, though it does reduce origin exposure.", docLink: "https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/origin-shield.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">Network & CDN Security</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
