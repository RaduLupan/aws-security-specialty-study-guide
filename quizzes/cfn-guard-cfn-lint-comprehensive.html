<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudFormation Guard & cfn-lint Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #3b82f6; --accent-secondary: #60a5fa; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(59, 130, 246, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(59, 130, 246, 0.2); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25), inset 0 0 12px rgba(59, 130, 246, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(59, 130, 246, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(59, 130, 246, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(59, 130, 246, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(59, 130, 246, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(59, 130, 246, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(59, 130, 246, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(59, 130, 246, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 6: Security Governance (14%)</span>
            <h1>‚òÅÔ∏è CloudFormation Guard & cfn-lint</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">25</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">62:30</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">25</span></span>
                    <span class="timer" id="timer">62:30</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is the primary purpose of AWS CloudFormation Guard?", options: ["To validate CloudFormation templates for correct syntax and allowed property values", "To provide policy-as-code evaluation of structured JSON/YAML data against custom rules using a declarative DSL", "To automatically remediate non-compliant CloudFormation resources after deployment", "To deploy CloudFormation stacks with guardrails that prevent accidental deletions"], correct: 1, explanation: "CloudFormation Guard is a policy-as-code evaluation tool with a declarative DSL for validating JSON/YAML data (including CloudFormation templates, Terraform, Kubernetes configs) against custom rules. It does NOT validate syntax or property values - use cfn-lint for that.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 2, question: "What is the primary purpose of cfn-lint?", options: ["To enforce policy-as-code rules on deployed CloudFormation resources in production environments", "To validate CloudFormation template syntax, resource properties against the CloudFormation resource specification", "To automatically fix common CloudFormation template errors and update templates in place", "To deploy CloudFormation stacks with automated rollback on validation failures"], correct: 1, explanation: "cfn-lint is a CloudFormation linter that validates template syntax and checks resource properties against the published AWS CloudFormation resource specification. It provides errors, warnings, and informational messages but does NOT enforce policy or deploy stacks.", docLink: "https://github.com/aws-cloudformation/cfn-lint" },
            { id: 3, question: "Which languages or formats can CloudFormation Guard validate?", options: ["Only CloudFormation templates in YAML format; JSON templates require conversion first", "CloudFormation templates, Terraform JSON configurations, Kubernetes YAML configurations, and any structured JSON/YAML data", "Only AWS-specific infrastructure as code including CloudFormation, SAM, and CDK synthesized templates", "CloudFormation and Terraform only; other IaC tools require custom parsers"], correct: 1, explanation: "Guard is general-purpose and can validate ANY structured hierarchical JSON or YAML data, including CloudFormation templates, Terraform JSON configs, Kubernetes manifests, AWS Config CIs, and custom data structures.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 4, question: "What are the basic building blocks of CloudFormation Guard rules?", options: ["Policies that contain multiple rule sets organized by service and compliance framework", "Clauses that are Boolean expressions evaluating to PASS or FAIL using unary or binary operators", "Functions that execute custom validation logic written in Python or JavaScript", "Directives that specify which CloudFormation resources should be validated"], correct: 1, explanation: "Guard rules are made up of clauses - Boolean expressions that evaluate to true (PASS) or false (FAIL). Clauses use unary operators (exists, empty, is_string, etc.) or binary operators (==, !=, >, <, <=, >=, IN) to evaluate queries.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 5, question: "Which binary operators are supported in CloudFormation Guard clauses?", options: ["==, !=, >, >=, <, <=, IN for comparing values and checking list membership", "AND, OR, NOT, XOR for combining multiple conditions in complex expressions", "CONTAINS, STARTSWITH, ENDSWITH, MATCHES for string pattern matching operations", "EQUALS, NOTEQUALS, GREATER, LESS for type-safe comparisons"], correct: 0, explanation: "Guard supports these binary operators: == (equal), != (not equal), > (greater than), >= (greater than or equal), < (less than), <= (less than or equal), and IN (in a list). The left side must be a query; right side can be a query or value literal.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 6, question: "Which unary operators are supported in CloudFormation Guard?", options: ["is_valid, is_compliant, is_secure for built-in AWS security best practice checks", "exists, empty, is_string, is_list, is_struct, and not(!) for single-value operations", "required, optional, deprecated for property existence and lifecycle validation", "allow, deny, audit for policy enforcement actions on evaluated resources"], correct: 1, explanation: "Guard supports these unary operators: exists (property exists), empty (collection is empty), is_string, is_list, is_struct (type checks), and not(!) for negation. These operate on a single value/query.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 7, question: "What does CloudFormation Guard NOT provide?", options: ["Domain-specific language for writing policy rules in a declarative format", "CloudFormation template syntax validation and property value validation against AWS specifications", "Unit testing framework to verify Guard rules work as intended", "Ability to validate structured JSON and YAML data against custom rules"], correct: 1, explanation: "Guard does NOT validate CloudFormation template syntax or check that property values are valid per AWS specifications - use cfn-lint for that. Guard also does NOT provide server-side enforcement - use CloudFormation Hooks for that.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 8, question: "How does cfn-lint integrate with AWS SAM applications?", options: ["SAM CLI automatically runs cfn-lint during sam build to validate templates before packaging", "Run sam validate --lint to validate SAM templates using cfn-lint validation rules", "cfn-lint is embedded in SAM and runs automatically during sam deploy without configuration", "SAM applications require a separate cfn-lint configuration file in the project root"], correct: 1, explanation: "The AWS SAM CLI provides the 'sam validate --lint' command which uses cfn-lint to validate SAM templates. This provides syntax validation and checks against CloudFormation resource specifications.", docLink: "https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/validate-cfn-lint.html" },
            { id: 9, question: "What is a rule set in CloudFormation Guard?", options: ["A collection of multiple Guard rule files that can be validated simultaneously against data", "A predefined set of AWS-managed rules for common compliance frameworks like PCI-DSS", "A configuration file specifying which resources in a template should be validated", "A testing framework specification defining expected PASS/FAIL outcomes for rules"], correct: 0, explanation: "A rule set is a collection of multiple Guard rule files organized together. Rule sets allow you to validate your JSON/YAML data against multiple rule files at the same time, enabling modular organization of rules by domain or compliance requirement.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 10, question: "How do you write a custom message in a CloudFormation Guard clause?", options: ["Use the message operator followed by the custom message in double quotes", "Add a string after the clause that provides information displayed when the clause fails", "Define messages in a separate YAML file and reference them by message ID", "Messages are auto-generated; custom messages require Guard version 3.0+"], correct: 1, explanation: "Custom messages are strings added after the clause. The message is displayed when the clause fails, helping users understand what went wrong. Example: Properties.Encrypted == true <<Encryption must be enabled>>", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 11, question: "What is the purpose of Guard's built-in unit testing framework?", options: ["To automatically generate test cases from existing CloudFormation templates in your account", "To verify that your Guard rules work as intended by testing against sample inputs with expected PASS/FAIL/SKIP outcomes", "To load test your Guard rules against thousands of templates to ensure performance", "To integrate Guard rules with AWS Config for continuous compliance monitoring"], correct: 1, explanation: "Guard's unit testing framework lets you write test files with sample inputs and expected outcomes (PASS, FAIL, or SKIP) for each rule. This verifies your rules work correctly before using them to validate real templates.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/testing-rules.html" },
            { id: 12, question: "What are the three possible outcomes when a Guard rule is evaluated in a unit test?", options: ["PASS when the rule evaluates to true, FAIL when false, SKIP when the rule isn't triggered", "SUCCESS when compliant, ERROR when non-compliant, WARNING for potential issues", "ALLOW when rule permits action, DENY when blocked, AUDIT when logged only", "COMPLIANT when meeting requirements, NON_COMPLIANT when violating, NOT_APPLICABLE when skipped"], correct: 0, explanation: "Guard test outcomes are: PASS (rule evaluates to true), FAIL (rule evaluates to false), and SKIP (rule isn't triggered, e.g., when the guarded resource type isn't present in the input data).", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/testing-rules.html" },
            { id: 13, question: "What naming convention is recommended for Guard unit testing files?", options: ["test_<rulename>.json or test_<rulename>.yaml in a separate tests/ directory", "<rulename>_test.json or <rulename>_tests.yaml using a suffix convention", "unit_tests.json or unit_tests.yaml with all tests in a single file", "Testing files must match the rule filename exactly but with .test extension"], correct: 1, explanation: "AWS recommends naming unit test files with the suffix '_test.json' or '_tests.yaml'. For example, if your rules file is 'my_rules.guard', name your test file 'my_rules_tests.yaml'. This makes the relationship clear.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/testing-rules.html" },
            { id: 14, question: "How does cfn-lint validate CloudFormation templates?", options: ["By deploying templates to a test stack and checking for deployment failures", "By checking templates against CloudFormation resource specification and performing intrinsic function parsing", "By comparing templates to AWS Well-Architected Framework best practices", "By executing templates in a sandbox environment with mock AWS API calls"], correct: 1, explanation: "cfn-lint validates templates by checking them against the published CloudFormation resource specification. It also parses intrinsic functions (including conditions) and validates template structure, providing errors, warnings, and informational messages.", docLink: "https://github.com/aws-cloudformation/cfn-lint" },
            { id: 15, question: "Which integration options does cfn-lint support?", options: ["Only command-line usage; IDE and CI/CD integrations require custom scripting", "IDE plugins (VS Code, Atom, IntelliJ, VIM), Git pre-commit hooks, CI/CD pipelines, and Python API", "AWS CodePipeline and CodeBuild only; other CI/CD tools not officially supported", "CloudFormation Console integration exclusively through AWS Service Catalog"], correct: 1, explanation: "cfn-lint has extensive integration options: IDE plugins for VS Code, Atom, Sublime, IntelliJ, and VIM; Git pre-commit hooks; CI/CD pipeline integration; and a Python API for programmatic integration into custom codebases.", docLink: "https://github.com/aws-cloudformation/cfn-lint" },
            { id: 16, question: "How can you use CloudFormation Guard with CloudFormation Hooks?", options: ["Guard rules cannot be used with Hooks; they are separate validation mechanisms", "Write Guard rules to author CloudFormation Guard Hooks that enforce policies before create/update/delete operations", "Hooks automatically convert cfn-lint rules to Guard format for server-side enforcement", "Guard Hooks require AWS Config integration and cannot be used standalone"], correct: 1, explanation: "You can use CloudFormation Guard to author Hooks that proactively enforce your Guard rules before CloudFormation create/update/delete operations and AWS Cloud Control API operations. This provides server-side enforcement of your policy-as-code rules.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 17, question: "What use case does Guard support for deployment safety?", options: ["Automated rollback of CloudFormation stacks when resource limits are exceeded", "Validation of CloudFormation change sets to prevent changes that result in resource replacement", "Real-time monitoring of deployed resources with automatic remediation of drift", "Integration with AWS Budgets to prevent deployments that exceed cost thresholds"], correct: 1, explanation: "For deployment safety, Guard can validate CloudFormation change sets against policy rules to prevent risky changes before they happen. For example, you can block changes that would replace resources (like renaming a DynamoDB table).", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 18, question: "How does Guard support detective governance and compliance?", options: ["By continuously scanning deployed resources and automatically remediating violations", "By validating AWS Config configuration items (CIs) to monitor deployed resources and detect policy violations", "By integrating with Security Hub to aggregate findings from multiple security services", "By generating compliance reports for audit purposes based on deployed stack tags"], correct: 1, explanation: "For detective governance, Guard can validate AWS Config Configuration Items (CIs) to continuously monitor deployed AWS and non-AWS resources, detect violations from policies, and enable remediation workflows.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 19, question: "What is the recommended approach for writing maintainable Guard rules?", options: ["Write comprehensive rules that cover all possible scenarios in a single rule block", "Write simple rules and use named rules to reference them in other rules for composition", "Use inline comments extensively since Guard doesn't support modular rule organization", "Copy rules from AWS-managed rule sets and customize them for your requirements"], correct: 1, explanation: "AWS recommends writing simple rules and using named rules to reference them in other rules. This makes rules easier to maintain and test. Complex rules can be difficult to debug and maintain over time.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 20, question: "Can Guard rules be used with AWS Config custom rules?", options: ["No, AWS Config only supports Lambda-based custom rules for compliance checks", "Yes, AWS Config Custom Policy rules can use Guard's DSL to evaluate resource configurations", "Yes, but only for CloudFormation resources; other resource types require Lambda", "No, Guard is only for pre-deployment validation; Config requires runtime evaluation"], correct: 1, explanation: "AWS Config Custom Policy rules enable you to evaluate resource configurations using CloudFormation Guard's domain-specific language. This allows you to create custom compliance rules without writing Lambda functions.", docLink: "https://docs.aws.amazon.com/config/latest/developerguide/evaluate-config_develop-rules_cfn-guard.html" },
            { id: 21, question: "What file extensions can be used for Guard rule files?", options: ["Only .guard extension is supported for Guard rule files", "Any file extension can be used; Guard doesn't enforce specific extensions for rule files", ".guard, .json, or .yaml extensions are required for Guard to recognize rule files", ".txt, .rules, or .policy extensions following naming conventions"], correct: 1, explanation: "Guard rule files written in the Guard DSL can use any file extension. The tool doesn't enforce a specific extension, giving you flexibility in how you organize and name your rule files.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 22, question: "How do you specify conditional rule evaluation in Guard?", options: ["Use the when clause followed by a condition that must be true for the rule to evaluate", "Define prerequisites in a separate prerequisites block at the top of the rule file", "Use if-then-else statements within the rule body for conditional logic", "Conditional evaluation is automatic based on resource type detection"], correct: 0, explanation: "Guard supports conditional rule evaluation using the 'when' clause. The rule only evaluates when the condition after 'when' is true. Example: rule check_encryption when %buckets !empty { ... }", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/writing-rules.html" },
            { id: 23, question: "What does cfn-lint check beyond basic template syntax?", options: ["Deployment costs and estimates for resources defined in the template", "Resource properties against CloudFormation resource specification and intrinsic function parsing including conditions", "Runtime behavior and performance characteristics of deployed resources", "Security vulnerabilities in custom Lambda function code referenced in templates"], correct: 1, explanation: "cfn-lint goes beyond syntax to validate resource properties against the CloudFormation resource specification (ensuring valid property names, types, required properties). It also parses intrinsic functions like Ref, GetAtt, and evaluates conditions.", docLink: "https://github.com/aws-cloudformation/cfn-lint" },
            { id: 24, question: "What is the primary difference between Guard's preventative and detective governance use cases?", options: ["Preventative blocks deployments; detective monitors and remediates deployed resources automatically", "Preventative validates IaC before deployment (shift-left); detective monitors deployed resources for policy violations", "Preventative requires CloudFormation Hooks; detective requires AWS Config integration", "Preventative is free; detective requires AWS Security Hub Advanced for findings aggregation"], correct: 1, explanation: "Preventative governance is shift-left testing - validating IaC (like CloudFormation templates) BEFORE deployment. Detective governance monitors DEPLOYED resources (like AWS Config CIs) to detect violations and enable remediation.", docLink: "https://docs.aws.amazon.com/cfn-guard/latest/ug/what-is-guard.html" },
            { id: 25, question: "How does cfn-lint handle custom rules?", options: ["Custom rules are not supported; cfn-lint only validates against AWS-published specifications", "Users can create custom rules and specify them in a configuration file for extended validation", "Custom rules require forking the cfn-lint repository and modifying the core validation engine", "Custom rules must be submitted to AWS for approval before they can be used"], correct: 1, explanation: "cfn-lint supports custom rules through its extensible rule-based architecture. Users can create custom validation rules and configure cfn-lint to use them via a configuration file, allowing organization-specific checks beyond AWS specifications.", docLink: "https://github.com/aws-cloudformation/cfn-lint" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">Guard & cfn-lint</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
