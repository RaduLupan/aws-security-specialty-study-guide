<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon OpenSearch Service Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #14b8a6; --accent-secondary: #2dd4bf; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(20, 184, 166, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(20, 184, 166, 0.2); box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.25), inset 0 0 12px rgba(20, 184, 166, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(20, 184, 166, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(20, 184, 166, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(20, 184, 166, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(20, 184, 166, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(20, 184, 166, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(20, 184, 166, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(20, 184, 166, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 1: Detection (16%)</span>
            <h1>Amazon OpenSearch Service</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">20</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">50:00</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">20</span></span>
                    <span class="timer" id="timer">50:00</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is Amazon OpenSearch Service?", options: ["A serverless query service for analyzing S3 data with SQL", "A managed service that deploys, operates, and scales OpenSearch clusters in the AWS Cloud", "A real-time streaming analytics platform for log processing", "A data warehouse for complex analytical workloads"], correct: 1, explanation: "Amazon OpenSearch Service is a managed service that makes it easy to deploy, operate, and scale OpenSearch clusters in the AWS Cloud. An OpenSearch Service domain is synonymous with an OpenSearch cluster.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 2, question: "Which use cases does OpenSearch support?", options: ["Only full-text search for e-commerce", "Only machine learning model training", "Log analytics, real-time application monitoring, and clickstream analysis", "Only batch ETL and data warehousing"], correct: 2, explanation: "OpenSearch is a fully open-source search and analytics engine for use cases such as log analytics, real-time application monitoring, and clickstream analysis. It is commonly used in security operations for log analysis.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 3, question: "Which security features does OpenSearch Service include?", options: ["Only IAM access control; encryption must be configured separately", "IAM access control, VPC integration, encryption at rest, node-to-node encryption, Cognito/HTTP/SAML for Dashboards, index/document/field-level security, and audit logs", "Encryption at rest only; no access control options", "SAML authentication only; no other security options"], correct: 1, explanation: "OpenSearch Service Security features include: IAM access control, VPC and security groups integration, encryption at rest and node-to-node encryption, Amazon Cognito/HTTP basic/SAML for OpenSearch Dashboards, index-level, document-level, and field-level security, audit logs, and dashboards multi-tenancy.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 4, question: "How does OpenSearch Service integrate with AWS CloudTrail?", options: ["CloudTrail streams log data into OpenSearch for analysis", "CloudTrail provides a history of OpenSearch Service configuration API calls and related events", "CloudTrail replaces OpenSearch audit logs", "There is no CloudTrail integration with OpenSearch Service"], correct: 1, explanation: "Use AWS CloudTrail to get a history of the OpenSearch Service configuration API calls and related events for your account. This helps with security auditing of domain configuration changes.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 5, question: "What are the three types of access policies supported by OpenSearch Service?", options: ["Network-based, application-based, and user-based", "Resource-based (domain access policy), identity-based (IAM), and IP-based policies", "Public, private, and hybrid", "Role-based, attribute-based, and policy-based"], correct: 1, explanation: "OpenSearch Service supports three policy types: (1) Resource-based policies (domain access policy) specifying which principals can perform actions on subresources; (2) Identity-based policies attached to IAM users/roles; (3) IP-based policies restricting access by IP/CIDR.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html" },
            { id: 6, question: "In a resource-based domain access policy, what does the trailing '/*' in the Resource element indicate?", options: ["It grants access to the domain configuration API", "It applies the policy only to the domain's subresources (indexes, APIs), not the domain itself", "It enables wildcard matching for all AWS resources", "It is required for cross-account access"], correct: 1, explanation: "The trailing /* in the Resource element is significant: resource-based policies apply only to the domain's subresources (indexes, OpenSearch APIs), not the domain configuration itself. Accessing the configuration API requires identity-based policies.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html" },
            { id: 7, question: "When can you use an open domain access policy (no principal or IP restrictions)?", options: ["Never; OpenSearch always requires restrictive policies", "Only for development domains", "When your domain is in a VPC or uses fine-grained access control", "Only when the domain uses Amazon Cognito authentication"], correct: 2, explanation: "If your domain is in a VPC or uses fine-grained access control, you can use an open domain access policy. Otherwise, your domain access policy must contain some restriction, either by principal or IP address, for security.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html" },
            { id: 8, question: "What does fine-grained access control in OpenSearch Service provide?", options: ["Only index-level permissions", "Index-level, document-level, and field-level security for far more granular control over data", "Replacement for IAM; no need for domain access policies", "Only audit logging; no access restriction"], correct: 1, explanation: "For far more granular control over your data, use an open domain access policy with fine-grained access control. This provides index-level, document-level, and field-level security‚Äîe.g., tailor search results by requester or conceal certain fields.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html" },
            { id: 9, question: "Which AWS services can stream data into OpenSearch Service?", options: ["Only S3 and DynamoDB", "Only CloudWatch Logs and Kinesis", "Amazon S3, Amazon Kinesis, Amazon DynamoDB, and Amazon CloudWatch Logs", "Only Lambda and EventBridge"], correct: 2, explanation: "OpenSearch Service integrates with S3, Kinesis, DynamoDB, and CloudWatch for loading streaming data. CloudWatch Logs can stream data to OpenSearch for log analysis‚Äîa common security use case.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 10, question: "What authentication options are available for OpenSearch Dashboards?", options: ["IAM only", "Amazon Cognito, HTTP basic, or SAML authentication", "Only username and password; no federation", "OAuth 2.0 exclusively"], correct: 1, explanation: "OpenSearch Service supports Amazon Cognito, HTTP basic, or SAML authentication for OpenSearch Dashboards. This enables flexible access control for users viewing and querying data through the Dashboards interface.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 11, question: "According to the AWS Well-Architected OpenSearch lens, how should you maintain traceability of OpenSearch domains?", options: ["Use only CloudWatch for metrics; no logging required", "Monitor configuration changes, track user activity, and audit data requests using CloudTrail and OpenSearch audit logs", "Rely solely on VPC Flow Logs for network visibility", "Enable SNS notifications only"], correct: 1, explanation: "Maintain traceability by monitoring configuration changes, tracking user activity, and auditing requests for data‚Äîincluding detailed connection attributes. Use CloudTrail for configuration API calls and OpenSearch audit logs for data requests.", docLink: "https://docs.aws.amazon.com/wellarchitected/latest/amazon-opensearch-service-lens/security.html" },
            { id: 12, question: "What storage options does OpenSearch Service offer for cost-effective analytics?", options: ["Only EBS volumes attached to data nodes", "UltraWarm and cold storage for read-only data, leveraging S3 durability and low cost", "Only in-memory caching; no tiered storage", "Glacier-only for archived data"], correct: 1, explanation: "OpenSearch Service includes cost-effective UltraWarm and cold storage for read-only data. This allows layering data across storage tiers, taking advantage of S3 durability and low cost to manage growing analytics costs.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 13, question: "When should you choose Amazon OpenSearch Service over self-managed OpenSearch?", options: ["When you want full compile-level control of the code", "When you don't want to manually manage infrastructure and want integrations with IAM, CloudWatch, CloudFormation, plus self-healing and proactive maintenance", "When you have a multi-cloud strategy requiring vendor-neutral technology", "When you want immediate access to new features as soon as they're released"], correct: 1, explanation: "Choose OpenSearch Service when you want managed infrastructure, AWS service integrations (IAM, CloudWatch, DynamoDB, CloudFormation), easy Support access, and features like self-healing, proactive maintenance, resiliency, and backups. Self-managed suits teams wanting full control.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 14, question: "What compliance frameworks does OpenSearch Service maintain?", options: ["None; compliance is the customer's responsibility", "SOC, PCI, and HIPAA", "Only ISO 27001", "GDPR only"], correct: 1, explanation: "OpenSearch Service maintains compliance with several industry standards, including SOC, PCI, and HIPAA. These validations can help meet organizational compliance and governance requirements.", docLink: "https://docs.aws.amazon.com/wellarchitected/latest/amazon-opensearch-service-lens/security.html" },
            { id: 15, question: "How does OpenSearch Service integrate with CloudWatch?", options: ["CloudWatch only receives logs from OpenSearch; no metrics", "Domains automatically send metrics to CloudWatch for monitoring health and performance; CloudWatch Logs can also stream data into OpenSearch", "CloudWatch replaces OpenSearch Dashboards for visualization", "One-way only: OpenSearch sends to CloudWatch"], correct: 1, explanation: "OpenSearch domains automatically send metrics to CloudWatch for monitoring. CloudWatch Logs can also stream data in the opposite direction‚Äîinto OpenSearch Service for analysis. SNS can alert when data exceeds thresholds.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 16, question: "What is the maximum number of data nodes supported by an OpenSearch Service domain?", options: ["100 nodes", "500 nodes", "1002 data nodes", "No limit; scales automatically"], correct: 2, explanation: "OpenSearch Service supports up to 1002 data nodes per domain. It also supports up to 25 PB of attached storage. Domains can allocate nodes across two or three Availability Zones for Multi-AZ deployment.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 17, question: "Which OpenSearch API actions does the domain access policy control?", options: ["Only the domain configuration API (CreateDomain, UpdateDomainConfig, etc.)", "The es:ESHttp* actions for OpenSearch indexes and APIs (e.g., es:ESHttpGet, es:ESHttpPut); configuration API requires identity-based policies", "No API actions; only network-level access", "All AWS API calls to the account"], correct: 1, explanation: "Resource-based (domain access) policies control es:ESHttp* actions for indexes and OpenSearch APIs. The configuration API (CreateDomain, UpdateDomainConfig, etc.) requires identity-based IAM policies. The two policy types govern different endpoints.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html" },
            { id: 18, question: "What is the purpose of dedicated master nodes in OpenSearch Service?", options: ["To serve all search and index requests", "To offload cluster management tasks from data nodes", "To provide cold storage only", "To handle only UltraWarm queries"], correct: 1, explanation: "Dedicated master nodes offload cluster management tasks from data nodes. This improves stability and performance. OpenSearch also supports node allocation across two or three Availability Zones (Multi-AZ) for high availability.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 19, question: "Does OpenSearch Service bill for data transfer between Availability Zones within a Multi-AZ domain?", options: ["Yes; standard data transfer charges apply", "No; OpenSearch Service does not bill for traffic between AZs in a Multi-AZ domain", "Only for the first 1 GB per month", "Only when using cold storage"], correct: 1, explanation: "If a domain uses multiple Availability Zones, OpenSearch Service does not bill for traffic between the Availability Zones. Significant data transfer occurs during shard allocation and rebalancing‚Äîthis is neither metered nor billed.", docLink: "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/what-is.html" },
            { id: 20, question: "What does the AWS Well-Architected OpenSearch lens recommend for protecting access to sensitive data?", options: ["Use only VPC security groups; no additional controls needed", "Use index-level, document-level, or field-level security to limit access to specific indices, documents, or fields", "Rely solely on encryption at rest", "Disable OpenSearch Dashboards to prevent access"], correct: 1, explanation: "Secure access to sensitive data using advanced security controls. Use index, document, or field-level security to limit access to specific indices, documents, or fields. Implement least privilege with IAM policies or fine-grained access control.", docLink: "https://docs.aws.amazon.com/wellarchitected/latest/amazon-opensearch-service-lens/security.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">OpenSearch</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
