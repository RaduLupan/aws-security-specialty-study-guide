<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACM & S3 Encryption Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #14b8a6; --accent-secondary: #2dd4bf; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(20, 184, 166, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(20, 184, 166, 0.2); box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.25), inset 0 0 12px rgba(20, 184, 166, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(20, 184, 166, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(20, 184, 166, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(20, 184, 166, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; margin-top: 1rem; }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(20, 184, 166, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(20, 184, 166, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(20, 184, 166, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(20, 184, 166, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown, .btn-group { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 5: Data Protection (18%)</span>
            <h1>ACM & S3 Encryption</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">18</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">45:00</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">18</span></span>
                    <span class="timer" id="timer">45:00</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group" id="resultsButtons">
                <button class="btn btn-primary" id="reviewBtn" onclick="showReview()" style="display: none;">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 15%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="review-status">
                <p class="results-details">Reviewed: <span id="reviewedCount">0</span> / <span id="totalReviewCount">0</span> questions</p>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="backToResults()">‚Üê Back to Results</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "A company wants to use SSL certificates on their Application Load Balancer. The CFO asks about ACM certificate costs. What should you tell them?", options: ["$0.75 per certificate per month for public certificates used with AWS services", "$400 per certificate per year, aligned with commercial CA pricing", "Public certificates are free when used with integrated AWS services; you only pay for the resources", "$10 per certificate per month, with volume discounts available for 100+ certificates"], correct: 2, explanation: "ACM public certificates are FREE when used with integrated AWS services (CloudFront, ELB, API Gateway). You only pay for the AWS resources. ACM Private CA certificates have associated monthly fees.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/acm-overview.html" },
            { id: 2, question: "A developer wants to install an ACM certificate directly on an EC2 instance running Apache. Is this possible?", options: ["Yes, ACM certificates can be installed on any AWS compute resource including EC2", "No, but you can use ACM with an ALB in front of EC2, or export certificates from ACM Private CA", "Yes, but only for instances in the same VPC as the ACM certificate", "No, ACM certificates only work with CloudFront and no other services"], correct: 1, explanation: "ACM certificates cannot be directly installed on EC2. ACM integrates with CloudFront, ELB, API Gateway, Elastic Beanstalk, CloudFormation, and App Runner. For EC2, put an ALB in front, or use exportable certificates from ACM Private CA.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/acm-services.html" },
            { id: 3, question: "A team needs to automate certificate renewal without manual intervention. Which ACM validation method should they use?", options: ["Email validation with auto-forwarding rules to an automated email processing system", "DNS validation by adding CNAME records that enable fully automatic renewal", "IAM validation using API keys that authenticate renewal requests automatically", "HTTP validation by hosting a verification file that ACM checks during renewal"], correct: 1, explanation: "DNS validation (adding CNAME records) is preferred for automation. As long as the CNAME record exists, ACM automatically renews certificates without manual intervention. Email validation requires responding to renewal emails.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/domain-ownership-validation.html" },
            { id: 4, question: "An ACM certificate was validated using email. What happens when renewal time approaches?", options: ["ACM automatically renews without any action since the initial validation proved ownership", "ACM sends renewal emails to domain contacts requiring a response to complete renewal", "ACM revokes the certificate and requires a completely new certificate request", "ACM automatically converts email validation to DNS validation for seamless renewal"], correct: 1, explanation: "Email-validated certificates require responding to renewal emails. DNS-validated certificates renew automatically if the CNAME record exists. This is why DNS validation is preferred for automation.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/managed-renewal.html" },
            { id: 5, question: "A company needs certificates for internal microservices that communicate within their VPC. These certificates shouldn't be publicly trusted. What should they use?", options: ["ACM public certificates configured with private DNS names instead of public domains", "ACM Private CA to create a private certificate authority for issuing internal certificates", "Self-signed certificates managed outside of ACM for internal-only trust", "ACM public certificates with restricted access using certificate transparency logs"], correct: 1, explanation: "ACM Private CA creates a private certificate authority for internal resources. Private certificates are trusted within your organization but not publicly. This is ideal for internal microservices, IoT devices, and VPN authentication.", docLink: "https://docs.aws.amazon.com/privateca/latest/userguide/PcaWelcome.html" },
            { id: 6, question: "A security team needs audit logs for every encryption/decryption operation on S3 objects. Which encryption type provides this?", options: ["SSE-S3 with CloudTrail data events enabled for the bucket", "SSE-KMS which logs all key usage to CloudTrail with key policies for access control", "SSE-C which requires logging the customer-provided key with each operation", "All S3 server-side encryption types automatically log to CloudTrail identically"], correct: 1, explanation: "SSE-KMS uses KMS keys, providing CloudTrail logging of every Encrypt/Decrypt operation with key ID and principal. SSE-S3 uses AWS-managed keys with no per-object key usage visibility. SSE-C logs don't include key material.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/serv-side-encryption.html" },
            { id: 7, question: "A company must maintain full control of encryption keys for compliance, but wants S3 to handle encryption operations. They don't want keys stored in AWS. What should they use?", options: ["SSE-KMS with customer managed keys stored in your AWS account's KMS", "SSE-C where you provide the encryption key with each request and S3 never stores it", "Client-side encryption with the AWS Encryption SDK managing keys locally", "SSE-S3 with customer-managed key material imported into AWS-managed keys"], correct: 1, explanation: "SSE-C (Customer-Provided Keys) means you provide your encryption key with each PUT/GET request. S3 uses your key for encryption but NEVER stores it. You maintain complete key control outside AWS. HTTPS is required.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerSideEncryptionCustomerKeys.html" },
            { id: 8, question: "A high-volume bucket using SSE-KMS is generating excessive KMS API costs and CloudTrail events. How can this be optimized?", options: ["Switch to SSE-S3 which doesn't use KMS and has no per-request costs", "Enable S3 Bucket Keys to generate a bucket-level key that reduces KMS calls by up to 99%", "Reduce the bucket's request rate to stay within KMS free tier limits", "Configure KMS key caching in the S3 service to reduce API calls"], correct: 1, explanation: "S3 Bucket Keys generate a bucket-level data key from your KMS key, used to encrypt individual object data keys. This dramatically reduces KMS API calls (up to 99% reduction) and associated CloudTrail events while maintaining SSE-KMS security.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-key.html" },
            { id: 9, question: "A company has existing certificates from DigiCert they want to use with their Application Load Balancer. Can these be used with ACM?", options: ["No, ALB only accepts certificates issued directly by ACM's certificate authority", "Yes, import the certificate, private key, and chain into ACM for use with ALB", "Yes, but only if DigiCert is on AWS's approved certificate authority list", "No, but you can terminate SSL at EC2 instances behind the ALB instead"], correct: 1, explanation: "You can import third-party certificates into ACM along with their private keys and certificate chain. Imported certificates work with ACM-integrated services. However, you're responsible for renewal - ACM won't auto-renew imported certificates.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html" },
            { id: 10, question: "A bucket policy requires all uploaded objects to be encrypted. However, users report uploads are succeeding without encryption headers. What's likely the issue?", options: ["Bucket policies cannot enforce encryption; only IAM policies can require encryption headers", "Default encryption is enabled, which encrypts objects regardless of headers", "S3 Block Public Access is overriding the encryption requirements", "The bucket policy syntax is incorrect for encryption enforcement"], correct: 1, explanation: "With default encryption enabled, S3 automatically encrypts objects even without headers. The uploads 'succeed without headers' because S3 applies default encryption. To REQUIRE headers, add a Deny policy for uploads lacking encryption headers.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/default-bucket-encryption.html" },
            { id: 11, question: "A compliance requirement mandates 'two independent layers of encryption' for data at rest. Which S3 option satisfies this?", options: ["SSE-KMS with a customer managed key plus client-side encryption for two layers", "DSSE-KMS (Dual-layer Server-Side Encryption) which applies two layers of AES-256 automatically", "SSE-S3 combined with S3 Object Lock for layered protection", "Two separate SSE-KMS keys configured for primary and backup encryption"], correct: 1, explanation: "DSSE-KMS applies two distinct layers of AES-256 encryption, each using a unique data key derived from your KMS key. This meets compliance requirements for multi-layer encryption without implementing client-side encryption.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingDSSEncryption.html" },
            { id: 12, question: "A CloudFront distribution needs an ACM certificate. The team created the certificate in eu-west-1 where their application runs. What happens?", options: ["CloudFront automatically replicates the certificate to edge locations worldwide", "The certificate must be in us-east-1; CloudFront only accepts certificates from N. Virginia region", "CloudFront can use certificates from any region as long as they're in the same account", "The certificate works but with higher latency due to cross-region certificate validation"], correct: 1, explanation: "CloudFront is a global service and can ONLY use ACM certificates from us-east-1 (N. Virginia). Regional services like ALB/NLB require certificates in the same region as the load balancer.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/acm-regions.html" },
            { id: 13, question: "A healthcare application must ensure S3 never sees plaintext patient data. Which encryption approach ensures this?", options: ["SSE-KMS with a customer managed key that only the application can access", "SSE-C where S3 only handles ciphertext and you provide keys per-request", "Client-side encryption where data is encrypted before it reaches S3", "SSE-S3 with VPC endpoints ensuring data never traverses the public internet"], correct: 2, explanation: "Client-side encryption means you encrypt data BEFORE uploading. S3 only stores ciphertext and never sees plaintext. Use AWS Encryption SDK or your own encryption. SSE-S3/SSE-KMS/SSE-C all involve S3 handling plaintext during encryption.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingClientSideEncryption.html" },
            { id: 14, question: "An S3 bucket allows both HTTP and HTTPS access. How do you enforce HTTPS-only access?", options: ["Enable S3 Block Public Access which automatically enforces HTTPS", "Configure default encryption which requires secure transport for all operations", "Add a bucket policy with Deny when aws:SecureTransport is false", "Enable S3 versioning which only works with HTTPS connections"], correct: 2, explanation: "Use a bucket policy with 'Deny' effect when 'aws:SecureTransport': 'false'. This blocks HTTP requests while allowing HTTPS. Default encryption protects data at rest but doesn't enforce transport security.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-best-practices.html" },
            { id: 15, question: "A certificate management process needs to track when ACM certificates will expire. How long are ACM-issued public certificates valid?", options: ["365 days (1 year), matching traditional CA certificate validity periods", "395 days (13 months), with automatic renewal starting 60 days before expiration", "730 days (2 years), the maximum allowed by CA/Browser Forum requirements", "90 days, similar to Let's Encrypt, requiring frequent automatic renewal"], correct: 1, explanation: "ACM-issued public certificates are valid for 13 months (395 days). ACM begins automatic renewal attempts well before expiration. For DNS-validated certificates, renewal is fully automatic if CNAME records exist.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/managed-renewal.html" },
            { id: 16, question: "A developer needs to install an SSL certificate on EC2 instances running nginx. The certificate must be ACM-managed. What are their options?", options: ["Export the private key from any ACM certificate using the ExportCertificate API", "Use ACM certificates with exportable option or use ACM Private CA to issue exportable certificates", "ACM certificates cannot be used on EC2; they must use certificates from other CAs", "Configure nginx to authenticate to ACM and retrieve the certificate at runtime"], correct: 1, explanation: "Standard ACM public certificates cannot have private keys exported. However, 'exportable public certificates' allow private key export, as do certificates from ACM Private CA. Alternatively, put an ALB in front of EC2.", docLink: "https://docs.aws.amazon.com/acm/latest/userguide/acm-exportable-certificates.html" },
            { id: 17, question: "An application uploads objects to S3 and needs to verify encryption was applied. Which response header confirms server-side encryption?", options: ["x-amz-encryption-status returning 'encrypted' or 'unencrypted' status", "x-amz-server-side-encryption indicating the encryption type (AES256 or aws:kms)", "Content-Encoding header showing 'encrypted' as the encoding type", "x-amz-meta-encryption custom metadata set by the S3 encryption process"], correct: 1, explanation: "S3 returns x-amz-server-side-encryption in responses. Values include 'AES256' (SSE-S3), 'aws:kms' (SSE-KMS), or 'aws:kms:dsse' (DSSE-KMS). For SSE-C, the header isn't returned but encryption occurs server-side.", docLink: "https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html" },
            { id: 18, question: "A team needs to implement client-side encryption across Java, Python, and JavaScript applications, all using the same KMS keys. What should they use?", options: ["KMS SDK for each language with custom envelope encryption implementation", "AWS Encryption SDK which provides consistent client-side encryption across languages with KMS integration", "S3 client-side encryption libraries specific to each language with shared key configuration", "ACM Private CA to issue encryption certificates usable across all applications"], correct: 1, explanation: "The AWS Encryption SDK is a client-side encryption library that implements envelope encryption consistently across Java, Python, JavaScript, and other languages. It integrates with KMS and supports custom key providers.", docLink: "https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/introduction.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('backToReviewBtn').style.display = 'none'; document.getElementById('totalQ').textContent = shuffledQuestions.length; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">ACM & S3 Encryption</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; if (currentMode === 'exam') document.getElementById('reviewBtn').style.display = 'inline-block'; else document.getElementById('reviewBtn').style.display = 'none'; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('backToReviewBtn').style.display = 'none'; document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
        function showReview() { const letters = ['A','B','C','D'], tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = ''; shuffledQuestions.forEach((q, idx) => { const userAns = userAnswers[idx] !== null && userAnswers[idx] !== undefined ? userAnswers[idx] : -1, isCorrect = userAns === q.correct, rowClass = reviewedQuestions.includes(idx) ? 'reviewed' : ''; let row = '<tr class="' + rowClass + '" onclick="reviewQuestion(' + idx + ')">'; row += '<td class="review-q-num">' + (idx + 1) + '</td>'; row += '<td class="review-q-text">' + q.question.substring(0, 100) + (q.question.length > 100 ? '...' : '') + '</td>'; row += '<td class="review-answer ' + (userAns >= 0 ? (isCorrect ? 'correct' : 'incorrect') : '') + '">' + (userAns >= 0 ? letters[userAns] : '‚Äî') + '</td>'; row += '<td class="review-answer correct">' + letters[q.correct] + '</td>'; row += '<td>' + (isCorrect ? '<span style="color:var(--success)">‚úì Correct</span>' : '<span style="color:var(--error)">‚úó Incorrect</span>') + '</td>'; row += '</tr>'; tbody.innerHTML += row; }); document.getElementById('totalReviewCount').textContent = shuffledQuestions.length; document.getElementById('reviewedCount').textContent = reviewedQuestions.length; document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); document.getElementById('reviewedCount').textContent = reviewedQuestions.length; } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; inReviewMode = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; document.getElementById('reviewSection').classList.add('show'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); }
    </script>
</body>
</html>
