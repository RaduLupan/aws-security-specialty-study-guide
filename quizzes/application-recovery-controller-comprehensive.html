<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Recovery Controller Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #f97316; --accent-secondary: #fb923c; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(249, 115, 22, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(249, 115, 22, 0.2); box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.25), inset 0 0 12px rgba(249, 115, 22, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(249, 115, 22, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(249, 115, 22, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(249, 115, 22, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(249, 115, 22, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(249, 115, 22, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(249, 115, 22, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(249, 115, 22, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 2: Incident Response (14%)</span>
            <h1>üîÑ Application Recovery Controller</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">20</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">50:00</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">20</span></span>
                    <span class="timer" id="timer">50:00</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What are the two main recovery capabilities that Amazon Application Recovery Controller (ARC) provides?", options: ["Single-AZ recovery and single-Region recovery", "Multi-AZ recovery (zonal shift, autoshift) and multi-Region recovery (routing control, Region switch, readiness check)", "Database failover only and cache failover only", "Load balancer failover and API Gateway failover"], correct: 1, explanation: "ARC provides multi-AZ recovery (zonal shift, zonal autoshift) and multi-Region recovery (routing control, Region switch, readiness check) to prepare for and complete faster recovery.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/what-is-route53-recovery.html" },
            { id: 2, question: "How does ARC zonal shift differ from zonal autoshift?", options: ["Zonal shift is automatic; zonal autoshift requires manual initiation", "Zonal shift is manual and temporary; zonal autoshift authorizes AWS to shift traffic automatically when internal telemetry indicates an AZ impairment", "Zonal shift works across Regions; zonal autoshift works only within a single AZ", "Zonal shift requires Route 53; zonal autoshift uses CloudWatch only"], correct: 1, explanation: "Zonal shift is manual‚Äîyou start it and set an expiration. Zonal autoshift authorizes AWS to automatically shift traffic when AWS internal telemetry detects an AZ impairment.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/what-is-route53-recovery.html" },
            { id: 3, question: "Which resources does ARC support for zonal shift and zonal autoshift?", options: ["Only Amazon EC2 instances and EBS volumes", "EC2 Auto Scaling groups, EKS, Application Load Balancers, and Network Load Balancers", "Amazon RDS databases and ElastiCache clusters", "Amazon S3 buckets and DynamoDB tables"], correct: 1, explanation: "ARC supports EC2 Auto Scaling groups, Amazon EKS, Application Load Balancers (ALB), and Network Load Balancers (NLB) for zonal shift and zonal autoshift. Resources must be opt-in.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.resource-types.html" },
            { id: 4, question: "What is the maximum expiration time you can set when starting a zonal shift?", options: ["One hour, non-extendable", "Up to 24 hours with optional extension", "Up to three days (72 hours), extendable if needed", "One week, with automatic renewal"], correct: 2, explanation: "Zonal shifts are temporary. You can set an initial expiration from one minute up to three days (72 hours). You can extend the shift if needed.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.html" },
            { id: 5, question: "What AWS recommendation applies before enabling zonal autoshift or practice runs?", options: ["Disable auto scaling to prevent conflicts with ARC", "Pre-scale your application resource capacity in all AZs; do not rely on scaling on demand when an autoshift starts", "Use only single-AZ deployments for testing", "Configure zonal shift to run before enabling autoshift"], correct: 1, explanation: "Pre-scale capacity in all AZs. Zonal autoshift does not wait for auto scaling. Relying on auto scaling can result in longer recovery times.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.html" },
            { id: 6, question: "How often do zonal autoshift practice runs occur, and how long does each practice run last?", options: ["Daily, for 1 hour", "Weekly, for about 30 minutes per resource", "Monthly, for 2 hours", "On-demand only, for 15 minutes"], correct: 1, explanation: "Practice runs occur weekly. Each practice run shifts traffic away from one AZ for about 30 minutes for a single resource, then returns traffic.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.html" },
            { id: 7, question: "When does a zonal shift have no effect on an Application or Network Load Balancer?", options: ["When the load balancer has cross-zone load balancing disabled", "When the load balancer is in a fail-open state", "When the load balancer has fewer than two target groups", "When the load balancer is in a different account"], correct: 1, explanation: "When an NLB or ALB is in a fail-open state, a zonal shift has no effect. Zonal shift cannot force an AZ to be unhealthy when the load balancer is failing open.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.resource-types.html" },
            { id: 8, question: "What are routing controls in ARC?", options: ["Lambda functions that execute recovery scripts", "Simple on/off switches that enable failover of DNS traffic across AWS Regions", "CloudWatch alarms that trigger SNS notifications", "Step Functions state machines that orchestrate recovery"], correct: 1, explanation: "Routing controls are on/off switches that enable you to reroute traffic. You turn one On and another Off to fail over DNS traffic from one Region to another via Route 53 health checks.", docLink: "https://docs.aws.amazon.com/recovery-cluster/latest/api/what-is-recovery-control.html" },
            { id: 9, question: "Which Region must you specify when creating readiness checks or routing controls in ARC?", options: ["The primary Region where your application runs", "The Region you are failing over to", "US West (Oregon)", "Any Region; ARC is region-agnostic"], correct: 2, explanation: "ARC is a global service but you must specify US West (Oregon) when working with readiness and recovery control configuration resources. Use regional endpoints for routing control state updates.", docLink: "https://docs.aws.amazon.com/recovery-cluster/latest/api/what-is-recovery-control.html" },
            { id: 10, question: "What is the architecture of an ARC cluster?", options: ["A single endpoint in the primary Region", "A data plane of endpoints in five AWS Regions", "One endpoint per customer account", "Endpoints only in us-east-1 and eu-west-1"], correct: 1, explanation: "Each cluster in ARC is a data plane of endpoints in five AWS Regions, providing high availability for routing control operations.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/routing-control.html" },
            { id: 11, question: "How should you ideally update routing control states for failover?", options: ["Use the AWS Management Console for maximum visibility", "Use API actions or AWS CLI; they are more resilient than the console", "Use CloudFormation drift detection", "Use AWS Config remediation runbooks"], correct: 1, explanation: "AWS recommends using API or CLI to update routing control states. API actions are not dependent on the console, so they are more resilient during an outage.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/getting-started.html" },
            { id: 12, question: "What do ARC safety rules help prevent?", options: ["Unauthorized access to routing controls", "Turning two routing controls off at once and stopping all traffic flow", "Cross-Region data replication failures", "Route 53 health check timeouts"], correct: 1, explanation: "Safety rules impose guardrails you define. For example, a safety rule can ensure only one of your application replicas (active or standby) is enabled at a time.", docLink: "https://docs.aws.amazon.com/recovery-cluster/latest/api/what-is-recovery-control.html" },
            { id: 13, question: "What does Region switch in ARC orchestrate?", options: ["Only DNS failover between Regions", "Large-scale recovery tasks across AWS accounts, including resource switching and traffic redirection", "Automated patching of EC2 instances during maintenance", "Cross-Region backup restoration only"], correct: 1, explanation: "Region switch orchestrates large-scale, complex recovery tasks across accounts. Plans include workflows with steps and execution blocks. It supports active/passive and active/active configurations.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/region-switch.html" },
            { id: 14, question: "How can a Region switch plan be triggered?", options: ["Only manually by an operator", "Manually or automatically via Amazon CloudWatch alarm triggers", "Only by EventBridge on a schedule", "Only by AWS Support during a declared outage"], correct: 1, explanation: "Region switch plans can be executed manually or automatically triggered by CloudWatch alarms when an impairment is detected.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/region-switch.html" },
            { id: 15, question: "What does ARC readiness check monitor?", options: ["Only Route 53 health check status", "AWS resource quotas, capacity, and network routing policies to ensure readiness for failover", "EC2 instance billing and cost allocation", "IAM permission changes across accounts"], correct: 1, explanation: "Readiness check continually monitors resource quotas, capacity, and routing policies. It helps ensure replicas are scaled and configured to handle failover traffic.", docLink: "https://docs.aws.amazon.com/recovery-readiness/latest/api/what-is-recovery-readiness.html" },
            { id: 16, question: "How often does ARC run readiness checks on your resources?", options: ["Once per day", "Once per hour", "Once every minute", "On-demand only when you request an assessment"], correct: 2, explanation: "After you create resource sets and readiness checks, ARC runs readiness checks continually, approximately once every minute.", docLink: "https://docs.aws.amazon.com/recovery-readiness/latest/api/what-is-recovery-readiness.html" },
            { id: 17, question: "Should readiness checks be used as the primary trigger for failover during a disaster?", options: ["Yes; readiness checks are designed for failover triggering", "No; readiness checks are for ongoing verification, not as a primary failover trigger during an event", "Only when combined with routing control", "Only for active/active configurations"], correct: 1, explanation: "Readiness checks are for verifying configurations on an ongoing basis. They should not be relied upon as the primary trigger for failover during a disaster event.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/recovery-readiness.html" },
            { id: 18, question: "What ARC components do you create to model your application for readiness checks?", options: ["Only routing controls and control panels", "Recovery groups with cells (replicas), resource sets, and readiness checks", "Only CloudWatch alarms and SNS topics", "Only Route 53 health checks"], correct: 1, explanation: "You create a recovery group representing your application, cells for each replica (e.g., per Region), resource sets, and readiness checks. Then associate resources with cells.", docLink: "https://docs.aws.amazon.com/recovery-readiness/latest/api/what-is-recovery-readiness.html" },
            { id: 19, question: "How does Region switch achieve resilience during recovery execution?", options: ["It runs only in the primary Region", "It has a data plane in each AWS Region so you can execute plans without depending on the Region being deactivated", "It requires the impaired Region to be fully operational", "It uses a single global endpoint"], correct: 1, explanation: "Region switch has a data plane in each AWS Region, allowing you to execute your recovery plan without depending on the Region you are deactivating.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/region-switch.html" },
            { id: 20, question: "What built-in check prevents multiple traffic shifts for the same resource in ARC?", options: ["IAM policy evaluation", "Only one customer-initiated zonal shift, practice run, or autoshift can be active for a resource at a time", "CloudWatch alarm thresholds", "Route 53 health check failover rules"], correct: 1, explanation: "Built-in safety checks prevent more than one traffic shift for a resource at a time. If you start a zonal shift when autoshift is active, your zonal shift takes precedence.", docLink: "https://docs.aws.amazon.com/r53recovery/latest/dg/introduction-components.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">ARC</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
