<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit Manager & Artifact Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #84cc16; --accent-secondary: #a3e635; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: #0a0e17; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(132, 204, 22, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(132, 204, 22, 0.2); box-shadow: 0 0 0 3px rgba(132, 204, 22, 0.25), inset 0 0 12px rgba(132, 204, 22, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: #0a0e17; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(132, 204, 22, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(132, 204, 22, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: #0a0e17; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(132, 204, 22, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(132, 204, 22, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; margin-top: 1rem; }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(132, 204, 22, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(132, 204, 22, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(132, 204, 22, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(132, 204, 22, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown, .btn-group { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 6: Security Governance (14%)</span>
            <h1>Audit Manager & Artifact</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">24</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">60:00</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">24</span></span>
                    <span class="timer" id="timer">60:00</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group" id="resultsButtons">
                <button class="btn btn-primary" id="reviewBtn" onclick="showReview()" style="display: none;">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is AWS Audit Manager primarily used for?", options: ["Analyzing CloudTrail logs for security incidents and generating threat detection alerts in real-time", "Continuously collecting audit-relevant evidence and mapping it to compliance frameworks automatically", "Evaluating AWS Config rules and remediating non-compliant resources through automated runbooks", "Aggregating Security Hub findings and prioritizing them based on severity for remediation teams"], correct: 1, explanation: "AWS Audit Manager continuously collects evidence from various AWS sources (CloudTrail, Config, Security Hub) and maps it to controls in compliance frameworks. This simplifies audit preparation by automating evidence collection.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/what-is.html" },
            { id: 2, question: "What are the three types of evidence in Audit Manager?", options: ["CloudTrail events, Config snapshots, and Security Hub findings collected per control", "Automated evidence, Manual evidence, and AWS Config rule evaluations collected continuously", "Real-time evidence, Historical evidence, and Aggregated evidence from multiple data sources", "Infrastructure evidence, Application evidence, and User activity evidence from AWS services"], correct: 1, explanation: "Audit Manager collects three evidence types: Automated evidence (from AWS API calls and Config), Manual evidence (uploaded by users), and AWS Config evaluations (compliance check results). Each control can have multiple evidence types.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/evidence.html" },
            { id: 3, question: "What compliance frameworks does Audit Manager provide out of the box?", options: ["SOC 2 framework with options to purchase additional frameworks as premium add-ons", "SOC 2, PCI DSS, GDPR, HIPAA, CIS Benchmarks, NIST, and AWS best practices frameworks", "HIPAA and PCI DSS frameworks with custom frameworks requiring Enterprise Support plan", "AWS Well-Architected Framework pillars mapped to security controls for assessments"], correct: 1, explanation: "Audit Manager includes pre-built framework templates for SOC 2, PCI DSS, GDPR, HIPAA, CIS Benchmarks, NIST 800-53, NIST CSF, and AWS Operational Best Practices. You can also create custom frameworks.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/framework-library.html" },
            { id: 4, question: "What is an assessment in Audit Manager?", options: ["A scheduled scan that evaluates resources against Config rules and reports violations", "A collection of evidence organized by controls for a specific compliance framework", "A point-in-time snapshot of your security posture exported as a PDF document", "A Security Hub integration that correlates findings across multiple AWS accounts"], correct: 1, explanation: "An assessment is an ongoing collection of evidence organized by the controls defined in a framework. You specify which accounts and services are in scope, and Audit Manager continuously gathers relevant evidence.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/assessments.html" },
            { id: 5, question: "What is AWS Artifact used for?", options: ["Storing and versioning build artifacts from CodePipeline deployments to S3 buckets", "On-demand access to AWS compliance reports and accepting legal agreements like BAA", "Managing container images and artifacts in Amazon ECR with vulnerability scanning enabled", "Creating and publishing compliance frameworks that can be shared across AWS accounts"], correct: 1, explanation: "AWS Artifact provides on-demand access to AWS security and compliance reports (SOC, PCI, ISO) and lets you accept agreements like BAA (Business Associate Addendum) and NDA directly through the console.", docLink: "https://docs.aws.amazon.com/artifact/latest/ug/what-is-aws-artifact.html" },
            { id: 6, question: "What reports can you download from AWS Artifact?", options: ["Your organization's custom compliance reports generated by AWS Audit Manager assessments", "SOC 1/2/3, PCI DSS attestations, ISO certifications, and HIPAA documentation from AWS", "CloudTrail audit logs formatted as compliance reports for external auditor consumption", "Security Hub compliance reports showing your resources' adherence to CIS Benchmarks"], correct: 1, explanation: "Artifact provides access to AWS's own compliance reports: SOC 1/2/3, PCI DSS Attestation of Compliance, ISO 27001/27017/27018, HIPAA BAA, GDPR DPA, and regional compliance certifications.", docLink: "https://docs.aws.amazon.com/artifact/latest/ug/downloading-documents.html" },
            { id: 7, question: "What is a control in Audit Manager?", options: ["An IAM policy attached to roles that restricts access based on compliance requirements", "A security requirement or best practice that needs evidence to demonstrate compliance", "An AWS Config rule that automatically remediates non-compliant resource configurations", "A Service Control Policy applied at the organizational unit level for governance"], correct: 1, explanation: "A control represents a security requirement (like 'encrypt data at rest') that needs evidence to prove compliance. Controls are grouped into control sets, and frameworks define which controls apply to a compliance standard.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/controls.html" },
            { id: 8, question: "How does Audit Manager collect automated evidence?", options: ["By executing Lambda functions on a schedule that query resources and store results", "Through integrations with CloudTrail, AWS Config, and Security Hub data sources", "By deploying agents on EC2 instances that report configuration state periodically", "Through AWS Systems Manager inventory collection synchronized with Audit Manager"], correct: 1, explanation: "Audit Manager automatically collects evidence from CloudTrail (API activity), AWS Config (configuration compliance), Security Hub (security findings), and service-specific API calls. This reduces manual evidence gathering.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/evidence.html" },
            { id: 9, question: "What is a delegated administrator in Audit Manager?", options: ["An IAM user with elevated permissions to approve evidence uploads from team members", "A member account designated to manage Audit Manager across an AWS Organization", "An external auditor granted read-only access to assessment reports through IAM roles", "A service-linked role that Audit Manager uses to collect evidence from other accounts"], correct: 1, explanation: "A delegated administrator is a member account authorized to manage Audit Manager assessments across all accounts in an AWS Organization. This enables centralized audit management without using the management account.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/organizations.html" },
            { id: 10, question: "What is an assessment report in Audit Manager?", options: ["A real-time dashboard showing evidence collection progress and control compliance status", "A finalized document summarizing evidence and compliance status for sharing with auditors", "An automated notification sent when evidence collection detects compliance violations", "A scheduled export of raw evidence data to S3 for long-term archival storage"], correct: 1, explanation: "An assessment report is a finalized, downloadable PDF document that summarizes the evidence collected for each control. You can share this report with internal teams or external auditors to demonstrate compliance.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/generate-assessment-report.html" },
            { id: 11, question: "What is the difference between Artifact Agreements and Artifact Reports?", options: ["Agreements define compliance frameworks; Reports show evidence collected against those frameworks", "Agreements are legal documents you accept; Reports are compliance certifications you download", "Agreements are shared across organizations; Reports are specific to individual AWS accounts", "Agreements require annual renewal; Reports are updated automatically by AWS quarterly"], correct: 1, explanation: "Artifact Agreements let you accept legal agreements like BAA or NDA for your account or organization. Artifact Reports provide downloadable compliance documents like SOC and PCI reports that demonstrate AWS's compliance.", docLink: "https://docs.aws.amazon.com/artifact/latest/ug/what-is-aws-artifact.html" },
            { id: 12, question: "Can you create custom frameworks in Audit Manager?", options: ["Yes, but custom frameworks require importing controls from external GRC tools via API", "Yes, you can create frameworks with custom controls and specify evidence collection sources", "No, custom frameworks are planned for future releases and currently in preview only", "Yes, but custom frameworks can only reference controls from existing AWS frameworks"], correct: 1, explanation: "You can create custom frameworks with your own controls, or customize existing frameworks by adding/removing controls. Custom controls can specify what evidence to collect from CloudTrail, Config, or manual uploads.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/custom-frameworks.html" },
            { id: 13, question: "What is the evidence finder in Audit Manager?", options: ["An automated tool that identifies gaps in evidence collection and suggests remediation", "A feature to search and filter evidence across assessments using multiple criteria", "A machine learning service that classifies evidence by relevance to compliance controls", "An integration with Amazon Kendra that enables natural language evidence queries"], correct: 1, explanation: "Evidence finder lets you search, filter, and query evidence across assessments using various criteria like resource, control, or date range. This helps locate specific evidence quickly during audits.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/evidence-finder.html" },
            { id: 14, question: "How do you accept a BAA (Business Associate Addendum) in AWS?", options: ["Submit a support case to AWS requesting BAA activation for your account or organization", "Use AWS Artifact Agreements to review and digitally accept the BAA in the console", "Contact your AWS account manager who will send the BAA for electronic signature", "Enable HIPAA-eligible services in your account which automatically applies the BAA"], correct: 1, explanation: "You accept the AWS BAA through Artifact Agreements. Navigate to AWS Artifact in the console, go to Agreements, and accept the BAA for HIPAA compliance. You can accept at account or organization level.", docLink: "https://docs.aws.amazon.com/artifact/latest/ug/getting-started.html" },
            { id: 15, question: "What retention period does Audit Manager have for evidence?", options: ["30 days by default with options to extend retention through S3 lifecycle policies", "90 days for automated evidence with unlimited retention for manually uploaded evidence", "Evidence is retained as long as the assessment exists and is deleted when assessment is deleted", "7 years to meet regulatory requirements with automatic archival to S3 Glacier after 1 year"], correct: 2, explanation: "Audit Manager retains evidence as long as the assessment exists. When you delete an assessment, evidence is removed. You can also export evidence to S3 for long-term retention and compliance archiving.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/assessment-settings.html" },
            { id: 16, question: "What is change log tracking in Audit Manager?", options: ["Tracking configuration changes detected by AWS Config rules across assessed resources", "Recording who made changes to assessments, frameworks, and controls with timestamps", "Monitoring CloudTrail events for changes to Audit Manager service configurations", "Logging evidence uploads and downloads for audit trail of document access patterns"], correct: 1, explanation: "Audit Manager maintains a change log that records modifications to assessments, frameworks, controls, and evidence. This provides an audit trail of who made changes and when, supporting governance requirements.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/review-assessments.html" },
            { id: 17, question: "Which services can Audit Manager collect evidence from?", options: ["EC2, S3, RDS, and Lambda with plans to add more services in future releases", "CloudTrail, AWS Config, Security Hub, and specific AWS service APIs for evidence", "CloudWatch Logs, X-Ray traces, and application performance monitoring data sources", "GuardDuty findings, Inspector assessments, and Macie sensitive data discoveries"], correct: 1, explanation: "Audit Manager collects evidence from CloudTrail logs, AWS Config rules evaluations, Security Hub findings, and direct API calls to specific AWS services. This comprehensive collection supports various compliance requirements.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/control-data-sources.html" },
            { id: 18, question: "What is the purpose of control mapping in Audit Manager?", options: ["Defining relationships between organizational units and the controls that apply to them", "Linking evidence sources to specific compliance controls for automated collection", "Creating visual diagrams showing how controls relate to each other in a framework", "Mapping IAM policies to controls to verify that permissions align with requirements"], correct: 1, explanation: "Control mapping links specific evidence sources (CloudTrail events, Config rules, etc.) to compliance controls. This ensures the right evidence is collected for each requirement, automating the evidence-to-control relationship.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/controls.html" },
            { id: 19, question: "What is the AWS Generative AI Best Practices Framework v2 in Audit Manager?", options: ["A compliance framework for evaluating third-party AI model providers before integration", "A prebuilt standard framework for monitoring generative AI implementation on Amazon Bedrock and SageMaker AI", "A custom framework template that requires manual configuration of all controls and evidence sources", "A Security Hub integration that aggregates AI-related security findings from multiple services"], correct: 1, explanation: "The AWS Generative AI Best Practices Framework v2 is a prebuilt Audit Manager framework that helps monitor and govern generative AI projects on Amazon Bedrock and Amazon SageMaker AI. It provides controls mapped to AWS data sources for evidence collection.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/aws-generative-ai-best-practices.html" },
            { id: 20, question: "What are the eight principles that the AWS Generative AI Best Practices Framework v2 evaluates?", options: ["Availability, Scalability, Performance, Cost Optimization, Security, Reliability, Operational Excellence, and Sustainability", "Responsible, Safe, Fair, Sustainable, Resilience, Privacy, Accuracy, and Secure governance principles", "Confidentiality, Integrity, Availability, Authentication, Authorization, Non-repudiation, Accountability, and Auditability", "Preventive, Detective, Corrective, Deterrent, Compensating, Recovery, Directive, and Physical controls"], correct: 1, explanation: "The framework evaluates eight principles: Responsible (ethical guidelines), Safe (prevent harmful output), Fair (impact on sub-populations), Sustainable (efficiency), Resilience (reliability), Privacy (data protection), Accuracy (reliable systems), and Secure (prevent unauthorized access).", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/aws-generative-ai-best-practices.html" },
            { id: 21, question: "How many automated and manual controls does the AWS Generative AI Best Practices Framework v2 contain?", options: ["50 automated controls and 25 manual controls organized into 6 control sets", "72 automated controls and 38 manual controls organized into 8 control sets", "100 automated controls and 50 manual controls organized into 10 control sets", "40 automated controls and 20 manual controls organized into 5 control sets"], correct: 1, explanation: "The AWS Generative AI Best Practices Framework v2 contains 72 automated controls and 38 manual controls, organized into 8 control sets corresponding to the eight governance principles.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/aws-generative-ai-best-practices.html" },
            { id: 22, question: "What AWS services does the AWS Generative AI Best Practices Framework v2 support?", options: ["Amazon Bedrock only, with SageMaker AI support planned for future framework versions", "Amazon Bedrock and Amazon SageMaker AI for monitoring generative AI implementations", "Amazon Comprehend, Amazon Rekognition, and Amazon Textract for AI service governance", "Amazon SageMaker exclusively, with Bedrock support requiring custom framework modifications"], correct: 1, explanation: "Framework v2 supports both Amazon Bedrock (fully managed foundation models) and Amazon SageMaker AI (custom ML model training and deployment). Framework v1 only supported Bedrock and is no longer available for new assessments.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/aws-generative-ai-best-practices.html" },
            { id: 23, question: "How can you manually verify prompts in Amazon Bedrock for Audit Manager evidence collection?", options: ["Use AWS Config rules that automatically evaluate prompt templates against compliance policies", "Use the InvokeModel operation to test predefined prompts and upload responses as manual evidence", "Enable CloudWatch Synthetics canaries that periodically invoke models and store results automatically", "Configure EventBridge rules that capture InvokeModel API calls and forward them to Audit Manager"], correct: 1, explanation: "You can manually verify prompts by using the InvokeModel operation (via HTTP requests, AWS CLI, or CloudWatch Synthetics canaries) to test predefined prompts against specific models, then upload the model responses as manual evidence in your Audit Manager assessment.", docLink: "https://docs.aws.amazon.com/audit-manager/latest/userguide/aws-generative-ai-best-practices.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('backToReviewBtn').style.display = 'none'; document.getElementById('totalQ').textContent = shuffledQuestions.length; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">Audit Manager & Artifact</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; document.getElementById('reviewBtn').style.display = currentMode === 'exam' ? 'inline-block' : 'none'; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
    </script>
</body>
</html>
