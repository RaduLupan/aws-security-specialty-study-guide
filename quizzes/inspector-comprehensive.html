<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon Inspector Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #14b8a6; --accent-secondary: #2dd4bf; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(20, 184, 166, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(20, 184, 166, 0.2); box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.25), inset 0 0 12px rgba(20, 184, 166, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(20, 184, 166, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(20, 184, 166, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(20, 184, 166, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        .review-section { display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-hint { text-align: center; color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.875rem; }
        .review-table { width: 100%; background: var(--bg-secondary); border-radius: 12px; border: 1px solid var(--border); margin-bottom: 2rem; border-collapse: separate; border-spacing: 0; overflow: hidden; }
        .review-table thead { background: var(--bg-tertiary); }
        .review-table th { padding: 1rem; text-align: left; font-weight: 600; color: var(--accent-primary); border-bottom: 2px solid var(--border); }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; border-bottom: 1px solid var(--border); }
        .review-table tbody tr:hover { background: rgba(20, 184, 166, 0.1); }
        .review-table tbody tr.reviewed { background: rgba(20, 184, 166, 0.05); }
        .review-table td { padding: 1rem; color: var(--text-secondary); }
        .review-table tbody tr:last-child { border-bottom: none; }
        .btn-group { display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown, .btn-group { flex-direction: column; } .review-table { font-size: 0.875rem; } .review-table th, .review-table td { padding: 0.5rem; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 3: Infrastructure Security (26%)</span>
            <h1>üîç Amazon Inspector</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">20</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">50:00</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">20</span></span>
                    <span class="timer" id="timer">50:00</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group" id="resultsButtons">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is Amazon Inspector primarily designed to do?", options: ["Monitor network traffic in real-time", "Continuously scan workloads for software vulnerabilities and network exposure", "Perform penetration testing on AWS infrastructure", "Audit IAM permissions and policies"], correct: 1, explanation: "Amazon Inspector is a vulnerability management service that automatically discovers workloads and continuously scans them for software vulnerabilities and unintended network exposure. It scans EC2 instances, ECR container images, and Lambda functions.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html" },
            { id: 2, question: "Which resource types does Amazon Inspector scan? (Choose the most complete answer)", options: ["Only EC2 instances", "EC2 instances and ECR container images", "EC2 instances, ECR container images, and Lambda functions", "All AWS compute resources including ECS tasks"], correct: 2, explanation: "Amazon Inspector discovers and scans three resource types: Amazon EC2 instances, container images in Amazon ECR, and AWS Lambda functions. It does not scan ECS tasks directly (only their underlying ECR images).", docLink: "https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html" },
            { id: 3, question: "What are the two scan methods Amazon Inspector uses for EC2 instances?", options: ["Deep scan and surface scan", "Agent-based scanning and agentless scanning", "Network scanning and vulnerability scanning", "Active scanning and passive scanning"], correct: 1, explanation: "Amazon Inspector uses two scan methods for EC2 instances: agent-based scanning (using SSM agent to collect software inventory) and agentless scanning (using EBS snapshots). By default, hybrid scanning mode uses both methods.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html" },
            { id: 4, question: "What is the default scanning mode when you first activate Amazon Inspector?", options: ["Agent-based only", "Agentless only", "Hybrid scanning (both agent-based and agentless)", "Manual scanning"], correct: 2, explanation: "When you activate Amazon Inspector for the first time, your account is automatically enrolled in hybrid scanning mode, which uses both agent-based and agentless scan methods for EC2 instances. You can change this setting at any time.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html" },
            { id: 5, question: "What AWS service does agent-based scanning require to be installed on EC2 instances?", options: ["CloudWatch agent", "SSM Agent (Systems Manager agent)", "Inspector agent", "CloudTrail agent"], correct: 1, explanation: "Agent-based scanning requires the SSM Agent (AWS Systems Manager agent) to be installed and running on EC2 instances. Amazon Inspector uses SSM associations to collect software inventory. The SSM Agent is pre-installed on many Amazon Machine Images (AMIs).", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html#agent-based" },
            { id: 6, question: "How does agentless scanning collect software inventory from EC2 instances?", options: ["By reading CloudWatch Logs", "By taking and analyzing EBS snapshots", "By querying the EC2 API", "By installing a temporary agent"], correct: 1, explanation: "Agentless scanning collects software inventory by creating and analyzing Amazon EBS snapshots of EC2 instances. This method doesn't require any agent to be installed on the instance, making it useful for instances where the SSM agent cannot be installed.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html#agentless" },
            { id: 7, question: "What are the three finding states in Amazon Inspector?", options: ["Open, In Progress, Closed", "Active, Suppressed, Closed", "New, Acknowledged, Resolved", "Critical, High, Low"], correct: 1, explanation: "Amazon Inspector categorizes findings in three states: Active (not remediated), Suppressed (subject to suppression rules), and Closed (remediated). When a finding is remediated, Inspector automatically detects it and closes the finding.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/findings-understanding.html" },
            { id: 8, question: "What is the Amazon Inspector Risk Score?", options: ["A fixed CVSS score from the NVD database", "A contextualized score that adjusts the NVD base score based on your environment", "A compliance score from 0-100", "A custom score you set manually"], correct: 1, explanation: "The Amazon Inspector Risk Score is a contextualized severity score that adjusts the National Vulnerability Database (NVD) base CVSS score according to your specific environment. For example, it may lower the score if a network vulnerability exists but there's no open network path to the internet.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html" },
            { id: 9, question: "How long does Amazon Inspector retain closed findings before deleting them?", options: ["Immediately after closing", "3 days for terminated resources, 30 days for other reasons", "90 days for all findings", "Indefinitely"], correct: 1, explanation: "When a resource is deleted or terminated, Inspector automatically closes findings and deletes them after 3 days. If findings are closed for any other reason (like remediation), they are deleted after 30 days. This allows time for auditing and verification.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/findings-understanding.html" },
            { id: 10, question: "What service does Amazon Inspector integrate with to publish findings as events?", options: ["CloudWatch Events", "Amazon EventBridge", "Amazon SNS directly", "AWS Step Functions"], correct: 1, explanation: "Amazon Inspector publishes findings to Amazon EventBridge as finding events. EventBridge can then route these findings to targets like Lambda functions, SNS topics, or SQS queues, enabling automated remediation workflows and notifications.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/findings-managing-automating-responses.html" },
            { id: 11, question: "How can you centrally manage Amazon Inspector across multiple AWS accounts?", options: ["Use IAM cross-account roles", "Designate a delegated administrator account through AWS Organizations", "Create a master-slave configuration", "Use CloudFormation StackSets"], correct: 1, explanation: "If your environment uses AWS Organizations, you can designate a delegated administrator account for Amazon Inspector. This account can activate Inspector for the entire organization with a single click, view aggregated findings, and manage scans for all member accounts.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html" },
            { id: 12, question: "What happens when Amazon Inspector detects that a vulnerability has been remediated?", options: ["You must manually close the finding", "Inspector automatically closes the finding", "The finding moves to 'under review' status", "Inspector sends a notification but keeps the finding open"], correct: 1, explanation: "Amazon Inspector automatically detects when a finding has been appropriately remediated and closes it automatically. If the issue reoccurs within seven days, Inspector will reopen the finding.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html" },
            { id: 13, question: "When does Amazon Inspector rescan EC2 instances for vulnerabilities?", options: ["Only when you manually trigger a scan", "When new instances launch, when software is installed, or when new CVEs are published", "Every 24 hours on a fixed schedule", "Only during maintenance windows"], correct: 1, explanation: "Amazon Inspector continuously scans and initiates new vulnerability scans when: (1) you launch a new EC2 instance, (2) you install new software on an existing instance, or (3) Amazon Inspector adds a new CVE to its database that's relevant to your instance.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html#agent-based" },
            { id: 14, question: "What is Lambda code scanning in Amazon Inspector?", options: ["Scanning Lambda function logs for errors", "Scanning Lambda IAM roles and permissions", "An optional layer that scans application code and dependencies for CVEs", "Scanning Lambda network configurations"], correct: 2, explanation: "Lambda code scanning is an optional scan type that evaluates application package dependencies used in Lambda functions for CVEs. It leverages the Amazon Q Developer scanning engine to scan first-party application code, third-party dependencies, and Infrastructure as Code.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-resources.html" },
            { id: 15, question: "How does Amazon Inspector handle ECR container image scanning?", options: ["Only scans images pushed in the last 7 days", "Converts repositories to enhanced scanning and scans images pushed or pulled recently", "Requires manual initiation of each scan", "Only scans official AWS images"], correct: 1, explanation: "When you activate Amazon ECR scanning, Inspector converts all repositories from basic to enhanced scanning. It scans all active images pushed/activated in the last 30 days or pulled within the last 90 days, and continues monitoring images for 90 days by default.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-resources.html" },
            { id: 16, question: "What IAM managed policy provides the minimum permissions needed for EC2 instances to work with Amazon Inspector agent-based scanning?", options: ["AmazonInspector2FullAccess", "AmazonSSMManagedInstanceCore", "AmazonEC2ReadOnlyAccess", "AWSSecurityHubServiceRolePolicy"], correct: 1, explanation: "The AmazonSSMManagedInstanceCore policy is the recommended IAM policy to attach to EC2 instance profiles for agent-based scanning. It provides all the permissions needed for the SSM agent to function and for Amazon Inspector to collect software inventory.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html#agent-based" },
            { id: 17, question: "What are suppression rules in Amazon Inspector?", options: ["Rules that prevent Inspector from scanning specific resources", "Rules that hide unwanted findings from your views without deleting them", "Rules that automatically remediate findings", "Rules that suppress notifications to Security Hub"], correct: 1, explanation: "Suppression rules allow you to filter and hide unwanted findings from your findings list without deleting them. Findings subject to suppression rules are categorized as 'Suppressed' and don't appear in your active findings views or reports.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/findings-managing-supression-rules.html" },
            { id: 18, question: "Which service-linked roles does Amazon Inspector create when activated?", options: ["AWSServiceRoleForInspector only", "AWSServiceRoleForAmazonInspector2 and AWSServiceRoleForAmazonInspector2Agentless", "AWSServiceRoleForSecurityHub", "No service-linked roles are created"], correct: 1, explanation: "Amazon Inspector creates two service-linked roles: AWSServiceRoleForAmazonInspector2 (for agent-based scanning and general operations) and AWSServiceRoleForAmazonInspector2Agentless (for agentless scanning operations). These roles allow Inspector to access required AWS services.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/getting_started.html" },
            { id: 19, question: "How frequently does Amazon Inspector perform network reachability scans on EC2 instances?", options: ["Continuously in real-time", "Once every 12 hours", "Once per day", "Only when instance configuration changes"], correct: 1, explanation: "Amazon Inspector performs network reachability scans once every 12 hours to detect unintended network exposure. Package vulnerability scans are performed on a variable cadence depending on the scan method (agent-based scans more frequently when changes occur).", docLink: "https://docs.aws.amazon.com/inspector/latest/user/scanning-ec2.html" },
            { id: 20, question: "What happens to Amazon Inspector findings if you deactivate Inspector?", options: ["Findings are permanently archived", "Findings are removed after 24 hours", "Findings are retained indefinitely", "Findings are immediately deleted"], correct: 1, explanation: "If you disable Amazon Inspector, all findings are removed after 24 hours. For terminated resources, findings are removed after 3 days. If AWS suspends your account, findings are removed after 90 days. This is important to consider before deactivating the service.", docLink: "https://docs.aws.amazon.com/inspector/latest/user/findings-understanding.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, reviewedQuestions = new Set();
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); reviewedQuestions.clear(); document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">Inspector</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); reviewedQuestions.clear(); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); const tbody = document.getElementById('reviewTableBody'), letters = ['A','B','C','D']; tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i], correct = userAns === q.correct, status = correct ? '‚úÖ' : '‚ùå', userLetter = userAns >= 0 ? letters[userAns] : '-', correctLetter = letters[q.correct]; return `<tr onclick="reviewQuestion(${i})" class="${reviewedQuestions.has(i) ? 'reviewed' : ''}"><td>${i + 1}</td><td>${q.question.substring(0, 80)}${q.question.length > 80 ? '...' : ''}</td><td>${userLetter}</td><td>${correctLetter}</td><td>${status}</td></tr>`; }).join(''); }
        function reviewQuestion(i) { reviewedQuestions.add(i); currentQuestion = i; currentMode = 'learn'; if (userAnswers[i] === null) userAnswers[i] = -1; answersRevealed[i] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); if (timerInterval) clearInterval(timerInterval); reviewedQuestions.clear(); }
    </script>
</body>
</html>
