<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAM Roles Anywhere & Directory Service Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #f59e0b; --accent-secondary: #fbbf24; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(245, 158, 11, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(245, 158, 11, 0.2); box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.25), inset 0 0 12px rgba(245, 158, 11, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(245, 158, 11, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(245, 158, 11, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(245, 158, 11, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(245, 158, 11, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(245, 158, 11, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(245, 158, 11, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(245, 158, 11, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 4: Identity & Access Management (22%)</span>
            <h1>üîë IAM Roles Anywhere & Directory Service</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">25</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">62:30</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">25</span></span>
                    <span class="timer" id="timer">62:30</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is the primary purpose of AWS IAM Roles Anywhere?", options: ["To enable on-premises Active Directory integration with AWS services by establishing a domain trust relationship", "To obtain temporary AWS security credentials for workloads running outside AWS using X.509 certificates and existing IAM roles and policies", "To provide long-term API keys for external applications that need programmatic access to AWS resources", "To federate external identity providers like Okta or Azure AD with AWS IAM using SAML 2.0 assertions"], correct: 1, explanation: "IAM Roles Anywhere enables workloads running outside of AWS (servers, containers, applications) to obtain temporary AWS credentials using X.509 certificates. It eliminates the need to manage long-term credentials and uses the same IAM policies and roles as native AWS applications.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/introduction.html" },
            { id: 2, question: "What is a trust anchor in IAM Roles Anywhere?", options: ["A reference to a certificate authority (CA) that establishes trust between IAM Roles Anywhere and your PKI infrastructure", "A designated IAM role in your AWS account that serves as the root for all certificate-based authentication requests", "A KMS key used to encrypt and decrypt the X.509 certificates presented during authentication to AWS services", "A VPC endpoint that securely connects your on-premises infrastructure to IAM Roles Anywhere APIs without internet exposure"], correct: 0, explanation: "A trust anchor is a reference to either AWS Private CA or an external CA certificate. It establishes trust between IAM Roles Anywhere and your certificate authority. Workloads authenticate using certificates issued by the trusted CA in exchange for temporary AWS credentials.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/introduction.html" },
            { id: 3, question: "What are the three core components required to use IAM Roles Anywhere?", options: ["Trust anchor for CA verification, IAM profile defining permissions and session policies, IAM role with trust policy allowing rolesanywhere.amazonaws.com", "VPC endpoint for private connectivity, KMS key for certificate encryption, IAM user with programmatic access permissions", "Active Directory domain controller, LDAP connection for authentication, IAM policy granting directory service access to AWS APIs", "Certificate Signing Request (CSR) generator, AWS Secrets Manager for certificate storage, Lambda function for credential rotation"], correct: 0, explanation: "IAM Roles Anywhere requires: (1) Trust anchor referencing your CA, (2) Profile specifying which IAM roles can be assumed and optional session policies, (3) IAM role with a trust policy allowing the rolesanywhere.amazonaws.com service principal and referencing the trust anchor ARN via aws:SourceArn condition.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/introduction.html" },
            { id: 4, question: "What is the purpose of a profile in IAM Roles Anywhere?", options: ["A profile stores the X.509 certificates issued to workloads and manages their lifecycle including renewal and revocation", "A profile specifies which IAM roles can be assumed and defines optional session policies to limit permissions for the session", "A profile configures the network path for certificate verification including DNS resolvers and proxy servers for CA access", "A profile defines the CloudWatch log group where all certificate-based authentication attempts are recorded for auditing"], correct: 1, explanation: "A profile in IAM Roles Anywhere specifies which IAM roles workloads can assume and can include session policies (managed or inline) to further limit the permissions granted in the session. A profile can reference multiple IAM roles but only one session policy.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/introduction.html" },
            { id: 5, question: "How does the IAM Roles Anywhere credential helper tool work?", options: ["It generates long-term access keys and secret keys from your X.509 certificate and stores them in ~/.aws/credentials file", "It creates a signature with your certificate, calls IAM Roles Anywhere to obtain temporary session credentials, and returns them in JSON format compatible with credential_process", "It establishes a persistent VPN tunnel to AWS using your certificate for authentication and proxies all AWS API calls through it", "It converts your X.509 certificate to a SAML assertion and uses federation to assume roles via AWS STS AssumeRoleWithSAML"], correct: 1, explanation: "The credential helper tool creates a signature using your private key and certificate, calls IAM Roles Anywhere to obtain temporary session credentials, and returns them in standard JSON format compatible with the credential_process feature across AWS SDKs. Credentials automatically refresh before expiration.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/credential-helper.html" },
            { id: 6, question: "What is the trust boundary for IAM Roles Anywhere?", options: ["Trust is established per VPC - only workloads in trusted VPCs can use certificates to obtain credentials", "Trust is established at the account level - certificates from any trust anchor in the account can assume any target role in that account unless conditions restrict it", "Trust is established per region - trust anchors and profiles must be in the same region as the target IAM roles", "Trust is established at the organization level - certificates are automatically shared across all accounts in the AWS Organization"], correct: 1, explanation: "For IAM Roles Anywhere, the trust boundary is at the account level. Certificates issued by any trust anchor in the account can be used to assume any target role in that same account, unless you specify conditions in the role's trust policy to restrict access further.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/introduction.html" },
            { id: 7, question: "Which advanced key storage mechanisms does the IAM Roles Anywhere credential helper support?", options: ["Only file-based private keys stored as PEM files in the local filesystem with optional passphrase protection", "OS certificate stores (Windows CNG/Cryptography API, macOS Keychain), PKCS#11 hardware tokens/HSMs, and TPM-based keys", "AWS Systems Manager Parameter Store for encrypted storage and AWS Secrets Manager for automatic rotation of private keys", "HashiCorp Vault integration for dynamic secret generation and Kubernetes secret volumes for container-based workloads"], correct: 1, explanation: "The credential helper supports advanced key storage: (1) OS certificate stores on Windows and macOS, (2) PKCS#11 tokens and HSMs using PKCS#11 URIs, (3) TPM (Trusted Platform Module) keys for hardware-backed security. This enables secure key management beyond simple file storage.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/credential-helper.html" },
            { id: 8, question: "How can you restrict which certificates can assume a specific IAM role using IAM Roles Anywhere?", options: ["Configure the trust anchor to only accept certificates with specific organizational units in the subject distinguished name", "Add conditions to the role's trust policy based on certificate attributes mapped to principal tags (e.g., x509Issuer/CN, x509Subject/O)", "Implement a Lambda authorizer that validates certificate serial numbers against a DynamoDB whitelist before allowing role assumption", "Use AWS Certificate Manager to create a certificate revocation list and configure IAM to check it during authentication"], correct: 1, explanation: "You can add conditions to the role's trust policy that check certificate attributes. The profile's attribute mapping controls which X.509 certificate fields (issuer, subject, SAN) are mapped to principal tags. The trust policy can then use conditions like aws:PrincipalTag/x509Issuer/CN to restrict access based on certificate attributes.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/attribute-mapping-and-trust-policy.html" },
            { id: 9, question: "What happens if your profile's attribute mapping doesn't map a certificate field that your role's trust policy condition checks?", options: ["IAM Roles Anywhere will automatically map all certificate fields to principal tags regardless of the attribute mapping configuration", "The condition will evaluate to false (for StringEquals) or true (for StringNotEquals) because the principal tag doesn't exist", "An explicit error will be returned stating that the certificate is missing required attributes for the role", "The certificate validation will fail and the trust anchor will be automatically disabled to prevent security issues"], correct: 1, explanation: "If a profile's attribute mapping doesn't include a specifier for a field (e.g., CN), that field won't be mapped to principal tags. A StringEquals condition checking that tag evaluates to false (denying access), while StringNotEquals evaluates to true (granting access) - be careful with negated conditions!", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/attribute-mapping-and-trust-policy.html" },
            { id: 10, question: "How does IAM Roles Anywhere integrate with AWS PrivateLink?", options: ["IAM Roles Anywhere automatically creates VPC endpoints in all VPCs where workloads need certificate-based authentication", "You can create interface VPC endpoints (PrivateLink) to establish private connections to IAM Roles Anywhere APIs without internet access", "PrivateLink is mandatory for IAM Roles Anywhere - all certificate verification must occur over private VPC connections", "IAM Roles Anywhere uses PrivateLink internally to communicate with AWS Private CA for certificate validation"], correct: 1, explanation: "IAM Roles Anywhere supports interface VPC endpoints via AWS PrivateLink, allowing you to establish private connections between your VPCs and IAM Roles Anywhere APIs. This enables workloads to obtain credentials without traversing the internet.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/vpc-interface-endpoints.html" },
            { id: 11, question: "What notification capabilities does IAM Roles Anywhere provide for certificate lifecycle management?", options: ["Email notifications sent directly from IAM Roles Anywhere to administrators when certificates are within 30 days of expiration", "Notifications sent to AWS Health, CloudWatch Events, and EventBridge for trust anchor and end-entity certificate expiry events", "SMS alerts via SNS when certificates expire, including automatic escalation to on-call engineers if not renewed within 48 hours", "Integration with AWS Certificate Manager for automatic certificate renewal and deployment to IAM Roles Anywhere trust anchors"], correct: 1, explanation: "IAM Roles Anywhere sends notifications through AWS Health, CloudWatch Events, and EventBridge for certificate expiry events (both trust anchor CA certificates and end-entity workload certificates). You can customize notification thresholds and create automated remediation workflows.", docLink: "https://docs.aws.amazon.com/rolesanywhere/latest/userguide/monitoring-health.html" },
            { id: 12, question: "Which Directory Service option is a standalone managed directory powered by Samba 4 Active Directory Compatible Server?", options: ["AWS Managed Microsoft AD provides actual Microsoft Active Directory with full AD feature support and schema extensions", "Simple AD is a Samba 4-based standalone directory with a subset of AD features, supporting up to 5,000 users in the large edition", "AD Connector is a proxy that redirects authentication requests to on-premises Active Directory without caching any directory data", "AWS Directory Service for Microsoft Active Directory Hybrid Edition extends on-premises AD to AWS with bidirectional synchronization"], correct: 1, explanation: "Simple AD is powered by Samba 4 and provides a subset of Active Directory features. It's available in Small (up to 500 users/2,000 objects) and Large (up to 5,000 users/20,000 objects) sizes. It does NOT support trusts, MFA, schema extensions, or advanced AD features.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_simple_ad.html" },
            { id: 13, question: "What is the primary difference between AD Connector and AWS Managed Microsoft AD?", options: ["AD Connector redirects authentication requests to on-premises AD without caching data; AWS Managed Microsoft AD is an actual Microsoft AD domain controller managed by AWS", "AD Connector provides read-only access to on-premises AD; AWS Managed Microsoft AD provides full read-write access with synchronization", "AD Connector requires VPN connectivity to on-premises infrastructure; AWS Managed Microsoft AD works entirely within AWS without external dependencies", "AD Connector supports up to 500,000 users; AWS Managed Microsoft AD (Enterprise Edition) is limited to 30,000 directory objects"], correct: 0, explanation: "AD Connector is a directory gateway that redirects requests to your on-premises Microsoft Active Directory without caching information. AWS Managed Microsoft AD is an actual Microsoft AD domain controller running in AWS Cloud, managed by AWS as a service.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_ad_connector.html" },
            { id: 14, question: "Which AWS services are supported by Simple AD?", options: ["Amazon WorkSpaces, Amazon WorkDocs, WorkMail, EC2 Windows instance domain join, and Linux SSH authentication", "Amazon WorkSpaces Applications, Amazon Chime, Amazon Connect, Amazon FSx for Windows, and RDS for SQL Server", "AWS IAM Identity Center (SSO), AWS Systems Manager Session Manager, Amazon QuickSight, and AWS Client VPN", "Amazon WorkSpaces Web, Amazon AppStream 2.0, AWS Managed Microsoft AD trusts, and AWS Transfer Family"], correct: 0, explanation: "Simple AD supports: WorkSpaces, WorkDocs, WorkMail, EC2 domain join (Windows and Linux), and IAM role-based Management Console access. It does NOT support: WorkSpaces Applications, Chime, FSx, RDS, or IAM Identity Center. For these, use AWS Managed Microsoft AD.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_simple_ad.html" },
            { id: 15, question: "AWS Managed Microsoft AD is available in which two editions, and what distinguishes them?", options: ["Basic Edition for up to 1,000 users and Advanced Edition for up to 10,000 users with enhanced security features", "Standard Edition for up to 30,000 objects optimized for small/midsize businesses; Enterprise Edition for up to 500,000 objects for large enterprises", "Community Edition (free tier) for development/testing and Production Edition with SLA guarantees and priority support", "Regional Edition deployed in single region and Global Edition with automatic multi-region replication and failover"], correct: 1, explanation: "AWS Managed Microsoft AD comes in Standard Edition (up to 30,000 directory objects, optimized for small/midsize businesses) and Enterprise Edition (up to 500,000 directory objects, designed for large enterprises). Object counts are approximate based on workload characteristics.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_microsoft_ad.html" },
            { id: 16, question: "What is AWS Managed Microsoft AD (Hybrid Edition) and how does it differ from Standard/Enterprise editions?", options: ["Hybrid Edition synchronizes user accounts bidirectionally between AWS and on-premises AD using AWS DataSync replication", "Hybrid Edition extends your existing self-managed Active Directory to AWS without synchronizing identities, establishing trust relationships for seamless access", "Hybrid Edition deploys domain controllers in both AWS and on-premises with automatic failover and load balancing capabilities", "Hybrid Edition is a cloud-only AD that replicates schema and group policies from on-premises AD but maintains separate user databases"], correct: 1, explanation: "AWS Managed Microsoft AD (Hybrid Edition) extends your existing self-managed AD to AWS without synchronizing user identities. It establishes trust relationships between environments, enabling seamless access using existing credentials while maintaining operational isolation.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_microsoft_ad.html" },
            { id: 17, question: "What type of trust relationships can AWS Managed Microsoft AD establish?", options: ["One-way trusts only, where AWS AD trusts on-premises AD but on-premises AD does not trust AWS AD", "Resource forest trusts with your existing AD domains on-premises, in AWS, or in multi-cloud environments for seamless user access", "Transitive trusts that automatically extend to all child domains in your on-premises AD forest hierarchy", "External trusts limited to AWS accounts within the same AWS Organization for cross-account resource sharing"], correct: 1, explanation: "AWS Managed Microsoft AD (Standard/Enterprise editions) establishes resource forest trusts with existing AD domains. User identities stay in your existing AD while the AWS resource forest manages AWS resources, maintaining operational isolation with seamless single sign-on.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_microsoft_ad.html" },
            { id: 18, question: "AD Connector comes in which two sizes and what do they differ in?", options: ["Micro for up to 100 users and Standard for up to 5,000 users with different pricing based on user count", "Small designed for low operations per second and Large designed for moderate to high operations per second", "Basic with limited AWS service integrations and Professional with support for all AWS directory-aware applications", "Single-AZ deployment for development and Multi-AZ deployment for production with automatic failover capabilities"], correct: 1, explanation: "AD Connector is available in Small (designed for smaller organizations with low operations per second) and Large (designed for larger organizations with moderate to high operations per second). There are no enforced user or connection limits - you can spread application loads across multiple AD Connectors.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_ad_connector.html" },
            { id: 19, question: "What is a key limitation of AD Connector regarding Active Directory domain relationships?", options: ["AD Connector only supports read-only access to on-premises AD and cannot modify user accounts or group memberships", "AD Connector does not support Active Directory transitive trusts; each on-premises domain requires a unique AD Connector in a 1-to-1 relationship", "AD Connector requires site-to-site VPN or Direct Connect; AWS-managed VPN is not supported for directory connectivity", "AD Connector can only connect to domain controllers within the same AWS region where it is deployed"], correct: 1, explanation: "AD Connector does NOT support Active Directory transitive trusts. AD Connectors and on-premises AD domains have a 1-to-1 relationship - for each on-premises domain (including child domains in a forest) you want to authenticate against, you must create a separate AD Connector.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_ad_connector.html" },
            { id: 20, question: "Can AD Connector be shared across multiple AWS accounts?", options: ["Yes, AD Connector automatically shares across all accounts in an AWS Organization for centralized authentication", "No, AD Connector cannot be shared across accounts; for multi-account scenarios, consider using AWS Managed Microsoft AD with directory sharing", "Yes, but only between accounts in the same AWS region using Resource Access Manager (RAM) sharing", "No, unless you establish VPC peering between accounts and configure cross-account IAM roles for directory access"], correct: 1, explanation: "AD Connector cannot be shared with other AWS accounts. If cross-account directory access is required, use AWS Managed Microsoft AD which supports directory sharing. AD Connector is also not multi-VPC aware - AWS applications must be in the same VPC.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_ad_connector.html" },
            { id: 21, question: "How does AD Connector enable multi-factor authentication (MFA)?", options: ["By integrating directly with Amazon Cognito user pools for MFA using SMS or TOTP authenticator applications", "By integrating with your existing RADIUS-based MFA infrastructure to provide an additional authentication layer", "By requiring AWS IAM MFA for all directory users when they access AWS applications through AD Connector", "By configuring conditional access policies in Azure Active Directory that are enforced during authentication"], correct: 1, explanation: "AD Connector integrates with your existing RADIUS-based MFA infrastructure. When users authenticate to AWS applications through AD Connector, they can be challenged for MFA using your on-premises RADIUS server, adding an extra security layer.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_ad_connector.html" },
            { id: 22, question: "Which AWS Directory Service option should you choose for running directory-aware workloads like Microsoft SharePoint or SQL Server Always On Availability Groups?", options: ["Simple AD provides sufficient Active Directory compatibility for most directory-aware Microsoft workloads", "AD Connector can proxy authentication requests from directory-aware applications to on-premises AD", "AWS Managed Microsoft AD is required as it provides actual Microsoft Active Directory features these workloads need", "AWS IAM Identity Center can replace Active Directory for these workloads through SAML federation"], correct: 2, explanation: "AWS Managed Microsoft AD is your best choice for directory-aware workloads like SharePoint, SQL Server Always On, and .NET applications that require actual Active Directory features. Simple AD lacks necessary features; AD Connector is a proxy, not a full AD implementation.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/what_is.html" },
            { id: 23, question: "What compliance certifications does AWS Managed Microsoft AD support?", options: ["Only SOC 1/2/3 and ISO 27001 compliance; HIPAA and PCI DSS compliance require third-party directory services", "HIPAA and PCI DSS compliance are supported when you enable compliance for your AWS Managed Microsoft AD directory", "Compliance certifications are inherited automatically from AWS infrastructure; no directory-specific configuration is needed", "Compliance support is only available for Enterprise Edition; Standard Edition cannot be used for regulated workloads"], correct: 1, explanation: "AWS Managed Microsoft AD is approved for HIPAA and PCI DSS compliance when you enable compliance for your directory. This allows you to run regulated workloads with AWS Managed Microsoft AD as the authentication and authorization directory.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/what_is.html" },
            { id: 24, question: "How does AWS Managed Microsoft AD provide high availability?", options: ["It deploys a single highly-available domain controller with automated EBS snapshots for disaster recovery", "It creates a pair of domain controllers in different Availability Zones within your VPC with automatic monitoring, recovery, and replication", "It uses Route 53 health checks to route traffic to the healthiest domain controller across multiple regions", "It synchronizes with on-premises AD in real-time so failover occurs automatically if AWS domain controllers fail"], correct: 1, explanation: "AWS Managed Microsoft AD deploys two domain controllers in separate Availability Zones within your VPC. AWS automatically manages monitoring, recovery, data replication, snapshots, and software updates for these domain controllers, providing high availability.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_microsoft_ad.html" },
            { id: 25, question: "How can you extend the schema in AWS Managed Microsoft AD?", options: ["Schema extensions are not supported; you must use custom attributes available in the base Active Directory schema", "You can extend the schema using standard Active Directory tools like Active Directory Schema snap-in running from a domain-joined management instance", "Schema extensions require opening an AWS Support ticket with your schema definition LDIF file for manual application", "You must create a forest trust with on-premises AD that has the schema extensions and reference objects via the trust"], correct: 1, explanation: "AWS Managed Microsoft AD supports schema extensions. You can extend the schema using standard Active Directory tools (like Active Directory Schema snap-in) running from a Windows instance domain-joined to your AWS Managed Microsoft AD domain.", docLink: "https://docs.aws.amazon.com/directoryservice/latest/admin-guide/what_is.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">IAM Roles Anywhere & Directory Service</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
