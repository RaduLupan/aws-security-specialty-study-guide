<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS PrivateLink & VPC Endpoints Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #a855f7; --accent-secondary: #c084fc; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(168, 85, 247, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(168, 85, 247, 0.2); box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.25), inset 0 0 12px rgba(168, 85, 247, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(168, 85, 247, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(168, 85, 247, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(168, 85, 247, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(168, 85, 247, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(168, 85, 247, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(168, 85, 247, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(168, 85, 247, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(168, 85, 247, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 5: Data Protection (26%)</span>
            <h1>üîí AWS PrivateLink & VPC Endpoints</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">25</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">62:30</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">25</span></span>
                    <span class="timer" id="timer">62:30</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is the primary purpose of AWS PrivateLink in a VPC architecture?", options: ["To provide a managed VPN connection for remote office workers to access VPC resources securely", "To enable private connectivity between VPCs and AWS services without traversing the public internet", "To automatically encrypt all network traffic between EC2 instances within the same Availability Zone", "To establish encrypted tunnels between on-premises data centers and AWS using IPSec protocols"], correct: 1, explanation: "AWS PrivateLink enables private connectivity between VPCs and AWS services (or other VPC endpoint services) without traffic going over the public internet. Traffic stays on the AWS network, improving security and reducing exposure to internet-based threats.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/what-is-privatelink.html" },
            { id: 2, question: "Which type of VPC endpoint should you create to privately access Amazon S3 from your VPC?", options: ["An Interface VPC endpoint only, as Gateway endpoints for S3 have been deprecated and removed", "Either a Gateway VPC endpoint or an Interface VPC endpoint, both are supported for Amazon S3", "A Gateway VPC endpoint only, as Interface endpoints cannot be used with Amazon S3 services", "A Network Load Balancer endpoint that provides high-throughput access to S3 with automatic failover"], correct: 1, explanation: "Amazon S3 supports BOTH Gateway VPC endpoints and Interface VPC endpoints. Gateway endpoints are free and route traffic through the VPC route table. Interface endpoints charge hourly and per-GB fees but support Private DNS and on-premises access via Direct Connect/VPN.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" },
            { id: 3, question: "What is created in your VPC when you provision an Interface VPC endpoint?", options: ["A NAT gateway in each selected Availability Zone that routes traffic to the AWS service", "An elastic network interface (ENI) in each selected subnet with a private IP address", "A virtual private gateway that establishes an IPSec tunnel to the AWS service endpoint", "An Application Load Balancer that distributes requests across multiple service availability zones"], correct: 1, explanation: "Interface VPC endpoints create an elastic network interface (ENI) in each selected subnet. The ENI gets a private IP from your subnet's CIDR range. This is a requester-managed network interface - you can view it but cannot modify it directly.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" },
            { id: 4, question: "A company needs to enable on-premises servers to access AWS Systems Manager via Direct Connect without internet access. Which solution meets this requirement?", options: ["Create a Gateway VPC endpoint for Systems Manager and advertise the endpoint routes via BGP", "Create an Interface VPC endpoint for Systems Manager with Private DNS enabled in the VPC", "Configure a Virtual Private Gateway and enable VPN connectivity to Systems Manager public endpoints", "Deploy a proxy server in the VPC that forwards Systems Manager API calls over Direct Connect"], correct: 1, explanation: "Interface VPC endpoints support access from on-premises networks via Direct Connect or Site-to-Site VPN. Gateway endpoints only work within the VPC. With Private DNS enabled, on-premises servers can use standard AWS service endpoints (e.g., ssm.us-east-1.amazonaws.com) which resolve to the private endpoint IP.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-access-aws-services.html" },
            { id: 5, question: "What is the purpose of enabling Private DNS for an Interface VPC endpoint?", options: ["To prevent DNS queries for the service from being logged in CloudTrail or VPC Flow Logs", "To allow applications to use the public AWS service DNS name while routing traffic to the private endpoint", "To enable DNS resolution using Amazon Route 53 Resolver for cross-region endpoint connectivity", "To configure custom DNS names that mask the actual AWS service being accessed for compliance"], correct: 1, explanation: "Private DNS creates Route 53 private hosted zone records that override the public AWS service DNS names. When your application makes a request to ec2.us-east-1.amazonaws.com, it resolves to the private IP of your VPC endpoint instead of the public endpoint. This allows SDK and CLI commands to work without modification.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-access-aws-services.html" },
            { id: 6, question: "Which prerequisite is required for Private DNS to function correctly with Interface VPC endpoints?", options: ["The VPC must have DNS hostnames and DNS resolution both enabled in the VPC settings", "The VPC must have a Virtual Private Gateway attached with route propagation enabled", "The VPC must be configured with Amazon Route 53 Resolver endpoints for inbound and outbound queries", "The VPC must have a NAT Gateway deployed in at least two Availability Zones for high availability"], correct: 0, explanation: "For Private DNS to work with Interface VPC endpoints, your VPC must have both 'DNS hostnames' and 'DNS resolution' enabled. These settings allow the VPC to resolve the private DNS names created by the endpoint.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" },
            { id: 7, question: "A security team wants to restrict access to an Interface VPC endpoint so only specific EC2 instances can use it. What should they configure?", options: ["Configure a Network ACL on the endpoint subnets allowing only the EC2 instance security groups", "Attach a security group to the endpoint ENI that allows inbound traffic only from the EC2 security group", "Create an endpoint policy in JSON format that specifies the allowed EC2 instance IDs and IAM roles", "Configure VPC route tables to direct traffic from only approved subnets to the endpoint ENI addresses"], correct: 1, explanation: "Interface VPC endpoint ENIs can have security groups attached. Configure the security group to allow inbound traffic from your EC2 instances' security groups. This controls network-level access. You can also use endpoint policies for additional IAM-based access control.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" },
            { id: 8, question: "What is the difference between a VPC endpoint service and a VPC endpoint?", options: ["A VPC endpoint service is created by service providers to share their application; a VPC endpoint is created by consumers to access that service", "A VPC endpoint service connects to AWS-managed services only; a VPC endpoint connects to third-party applications in AWS Marketplace", "A VPC endpoint service uses Interface endpoints exclusively; a VPC endpoint supports both Interface and Gateway endpoint types", "A VPC endpoint service requires a Network Load Balancer; a VPC endpoint requires an Application Load Balancer for routing"], correct: 0, explanation: "A VPC endpoint service is created by service providers (you or others) to make an application accessible via PrivateLink. Consumers then create VPC endpoints in their VPCs to privately connect to that service. This enables private SaaS delivery over AWS's network.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-share-your-services.html" },
            { id: 9, question: "Which type of load balancer is required to create a VPC endpoint service for your own application?", options: ["An Application Load Balancer with at least two targets in different Availability Zones for high availability", "A Network Load Balancer or Gateway Load Balancer, both of which support AWS PrivateLink integration", "A Classic Load Balancer with cross-zone load balancing enabled and HTTP health checks configured", "Any load balancer type (ALB, NLB, CLB, or GWLB) as long as it has at least one healthy target"], correct: 1, explanation: "VPC endpoint services support Network Load Balancers (NLB) and Gateway Load Balancers (GWLB). Application Load Balancers and Classic Load Balancers are NOT supported. The NLB/GWLB must be configured before creating the endpoint service.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-share-your-services.html" },
            { id: 10, question: "A company publishes a SaaS application via PrivateLink and wants to control which AWS accounts can create endpoints to it. How should they configure this?", options: ["Configure a VPC endpoint policy in the service provider account that lists the allowed AWS account IDs", "Use AWS Organizations SCPs in the provider account to grant PrivateLink endpoint creation to specific accounts", "Add allowed principal ARNs to the VPC endpoint service permissions in the service provider account", "Configure IAM resource-based policies on the Network Load Balancer allowing access from specific account principals"], correct: 2, explanation: "VPC endpoint service permissions allow you to specify which AWS principals (accounts, IAM users/roles, or organizations) can create VPC endpoints to your service. This is managed in the service provider's account on the endpoint service configuration.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/configure-endpoint-service.html" },
            { id: 11, question: "What is the purpose of endpoint policies for VPC endpoints?", options: ["To control which AWS principals (users and roles) can create or modify the VPC endpoint resource", "To control which actions and resources can be accessed through the endpoint using IAM policy syntax", "To define network-level access controls similar to security groups for the endpoint network interfaces", "To configure automatic scaling policies for endpoint capacity based on request volume and latency"], correct: 1, explanation: "Endpoint policies are IAM resource policies attached to VPC endpoints that control what actions and resources can be accessed through that endpoint. They use IAM policy syntax and work alongside IAM user/role policies to provide defense in depth.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-access.html" },
            { id: 12, question: "Which AWS services support Interface VPC endpoints? (Select the BEST answer)", options: ["Only compute services like EC2, Lambda, and ECS that run customer code in VPCs", "Only storage services like S3, EFS, and FSx that need private data plane access", "Most AWS services including EC2, S3, DynamoDB, SNS, SQS, Lambda, Secrets Manager, and many others", "Only networking services like Direct Connect, Transit Gateway, and VPN that integrate with VPC routing"], correct: 2, explanation: "Interface VPC endpoints support most AWS services - over 100 services including compute (EC2, Lambda), storage (S3, EFS), databases (RDS, DynamoDB), messaging (SNS, SQS), security (Secrets Manager, KMS), and many more. Check AWS documentation for the complete list.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/aws-services-privatelink-support.html" },
            { id: 13, question: "A company needs to access S3 from EC2 instances that have no internet access and no NAT gateway. Which solution is most cost-effective?", options: ["Create an Interface VPC endpoint for S3 which charges hourly fees plus data processing costs", "Create a Gateway VPC endpoint for S3 which has no hourly charges or data processing fees", "Configure AWS PrivateLink with a Network Load Balancer pointing to S3 regional endpoints", "Deploy a proxy server on an instance with internet access to forward S3 API requests"], correct: 1, explanation: "Gateway VPC endpoints for S3 (and DynamoDB) are completely free - no hourly charges or data processing fees. Interface endpoints for S3 charge both hourly and per-GB fees. For cost optimization with S3-only access from VPC, use Gateway endpoints.", docLink: "https://aws.amazon.com/privatelink/pricing/" },
            { id: 14, question: "What is a key difference in how Gateway and Interface VPC endpoints route traffic?", options: ["Gateway endpoints use VPC route table entries to direct traffic; Interface endpoints use DNS resolution to private IP addresses", "Gateway endpoints require a Virtual Private Gateway; Interface endpoints use an Internet Gateway for routing", "Gateway endpoints route through AWS Direct Connect only; Interface endpoints support both Direct Connect and internet routing", "Gateway endpoints modify security group rules automatically; Interface endpoints require manual security group configuration"], correct: 0, explanation: "Gateway endpoints add routes to VPC route tables targeting the endpoint (prefix list). Interface endpoints create ENIs with private IPs - applications access them via DNS resolution (especially with Private DNS enabled). This is why Gateway endpoints don't support access from on-premises.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints.html" },
            { id: 15, question: "Which statement about cross-region connectivity for AWS PrivateLink is correct?", options: ["Cross-region PrivateLink requires VPC peering or Transit Gateway connections between provider and consumer regions", "Service providers can enable cross-region access by specifying supported regions in their endpoint service configuration", "Cross-region PrivateLink connections automatically replicate data to both regions for disaster recovery purposes", "Cross-region PrivateLink is only available for AWS-managed services, not for custom VPC endpoint services"], correct: 1, explanation: "With cross-region PrivateLink (launched Dec 2024), service providers can specify which regions consumers can connect from. Consumers create Interface endpoints that connect to services in different regions without needing VPC peering or Transit Gateway. Traffic stays on AWS network.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 16, question: "What is the vpce:AllowMultiRegion permission required for?", options: ["To enable VPC endpoints to connect to multiple AWS regions simultaneously for load distribution", "To opt into cross-region PrivateLink functionality for both service providers and consumers", "To allow VPC endpoint services to be shared across multiple AWS Organizations and accounts", "To enable multi-region replication of endpoint configurations for disaster recovery scenarios"], correct: 1, explanation: "The vpce:AllowMultiRegion is a permission-only action that acts as an explicit opt-in for cross-region PrivateLink. Without this permission, accounts retain normal in-region PrivateLink but cannot enable or use cross-region connectivity. This provides defense-in-depth control.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 17, question: "Which IAM condition key restricts which regions a VPC endpoint can connect to services from?", options: ["ec2:VpceServiceRegion - restricts the service region for endpoint consumers creating cross-region connections", "ec2:VpceSupportedRegion - restricts the consumer regions that service providers can enable access from", "ec2:VpceMultiRegion - indicates whether cross-region connectivity is enabled on the service or endpoint", "vpce:AllowedRegions - defines the complete list of regions where PrivateLink endpoints can be created"], correct: 0, explanation: "As a consumer, ec2:VpceServiceRegion lets you restrict which service regions you can create endpoints to. For example, you can block connections to services in specific regions for compliance. Service providers use ec2:VpceSupportedRegion to control which regions can access their service.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 18, question: "Does cross-region AWS PrivateLink require Availability Zone (AZ) alignment between provider and consumer?", options: ["Yes, consumers must create endpoints in AZs that map to the same physical locations as provider AZs", "No, cross-region PrivateLink does not require AZ alignment and providers/consumers can use any AZs", "Yes, but only for Gateway endpoints; Interface endpoints do not require AZ alignment for cross-region", "No, but consumers must use at least the same number of AZs as the provider for proper failover"], correct: 1, explanation: "Cross-region PrivateLink does NOT require AZ alignment between provider and consumer (unlike in-region endpoints where AZ alignment matters). Providers need minimum 2 AZs for the NLB; consumers can choose any AZs in their region. PrivateLink handles routing automatically.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 19, question: "Which services support cross-region connectivity with AWS PrivateLink?", options: ["Only AWS-managed services like S3, DynamoDB, and EC2 APIs support cross-region endpoint connectivity", "Only customer-created VPC endpoint services backed by Network Load Balancers support cross-region access", "Both AWS services and AWS Marketplace partner services support cross-region PrivateLink connectivity", "Neither AWS services nor Marketplace services support cross-region; only custom NLB-backed services do"], correct: 3, explanation: "Currently, cross-region PrivateLink is supported ONLY for customer-created VPC endpoint services backed by Network Load Balancers. AWS-managed services and AWS Marketplace partner services do NOT support cross-region connectivity at this time.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 20, question: "What happens to existing VPC endpoints when a service provider removes a region from the supported regions list?", options: ["All existing endpoints from that region are automatically deleted and consumers must recreate them", "Existing endpoints persist and continue working, but new endpoints cannot be created from that region", "Existing endpoints enter a grace period and continue for 30 days before automatic termination", "The service provider must manually reject each endpoint before the region can be fully removed"], correct: 1, explanation: "When a service provider removes a region from supported regions, existing endpoints from that region continue to function. However, new endpoints cannot be created from the removed region. If you want to remove existing connections, you must manually reject those endpoints.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 21, question: "What are opt-in regions and how do they affect cross-region PrivateLink?", options: ["Opt-in regions are AWS regions that require explicit account activation and must be opted into by both provider and consumer for cross-region PrivateLink", "Opt-in regions are special GovCloud or isolated regions that do not support PrivateLink cross-region connectivity", "Opt-in regions are regions where PrivateLink pricing is higher and requires account opt-in before use", "Opt-in regions are beta regions where cross-region PrivateLink is available but not yet generally available"], correct: 0, explanation: "Opt-in regions (regions launched after March 20, 2019) must be explicitly enabled in your AWS account. For cross-region PrivateLink: service providers must opt into opt-in regions to allow connections from them, and consumers must opt in to access services hosted in opt-in regions.", docLink: "https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-cross-region-connectivity-for-aws-privatelink/" },
            { id: 22, question: "How many subnets can you select when creating an Interface VPC endpoint?", options: ["You must select exactly one subnet per Availability Zone, with a maximum of one subnet total", "You can select one subnet per Availability Zone, but cannot select multiple subnets from the same AZ", "You can select up to six subnets total regardless of which Availability Zones they are in", "You must select at least two subnets in different Availability Zones for high availability requirements"], correct: 1, explanation: "When creating an Interface VPC endpoint, you can select one subnet per Availability Zone - but you cannot select multiple subnets from the same AZ. Best practice is to use at least 2 AZs for high availability. Each subnet gets an endpoint network interface (ENI) with a private IP.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" },
            { id: 23, question: "What IP address types are supported for Interface VPC endpoints?", options: ["Only IPv4 addresses; IPv6 is not supported for VPC endpoints due to AWS backbone limitations", "IPv4, IPv6, or dualstack (both), depending on subnet configuration and service support for IPv6", "Only IPv6 addresses; IPv4 support has been deprecated in favor of modern IPv6 addressing", "Only dualstack configuration with both IPv4 and IPv6 addresses assigned to all endpoint ENIs"], correct: 1, explanation: "Interface VPC endpoints support IPv4, IPv6, or dualstack configurations. The choice depends on: (1) your subnet configuration (IPv4, IPv6-only, or dual-stack), and (2) whether the AWS service supports IPv6 access. Not all services support IPv6.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" },
            { id: 24, question: "Can you create, modify, or delete VPC endpoints in shared subnets (subnets shared via AWS RAM)?", options: ["Yes, you have full endpoint management capabilities in subnets shared with your account via RAM", "No, you cannot create, describe, modify, or delete endpoints in shared subnets; you can only use existing ones", "Yes, but only for Interface endpoints; Gateway endpoints cannot be created in shared subnets", "No, but the subnet owner can create endpoints on your behalf if you provide appropriate IAM permissions"], correct: 1, explanation: "You CANNOT create, describe, modify, or delete VPC endpoints in subnets that are shared with you via AWS Resource Access Manager (RAM). However, you CAN use VPC endpoints that already exist in those shared subnets.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" },
            { id: 25, question: "How can you verify connectivity to an Interface VPC endpoint if ping (ICMP) doesn't work?", options: ["Interface endpoints respond to ping requests if ICMP is allowed in the endpoint security group rules", "Use the nc (netcat) or nmap commands to test connectivity to the endpoint on the service port", "Use the AWS CLI describe-vpc-endpoints command with the --test-connectivity flag to verify endpoint health", "Configure CloudWatch alarms on the VPC endpoint metrics to monitor connection success rates"], correct: 1, explanation: "Interface VPC endpoints do NOT respond to ICMP ping requests. Instead, use nc (netcat) or nmap commands to test TCP connectivity to the service port. For example: 'nc -zv vpce-id.service.region.vpce.amazonaws.com 443' tests HTTPS connectivity.", docLink: "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">PrivateLink</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
