<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAM Fundamentals Quiz | AWS Security Specialty (SCS-C03)</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #f59e0b; --accent-secondary: #fbbf24; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(245, 158, 11, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(245, 158, 11, 0.2); box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.25), inset 0 0 12px rgba(245, 158, 11, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(245, 158, 11, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(245, 158, 11, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(245, 158, 11, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(245, 158, 11, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(245, 158, 11, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(245, 158, 11, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "‚úì "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(245, 158, 11, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">Domain 4: Identity & Access Management (20%)</span>
            <h1>üîê IAM Fundamentals: Users, Groups, Policy Evaluation & Credentials</h1>
            <p class="subtitle">Comprehensive Quiz for AWS Security Specialty (SCS-C03)</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">25</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">62:30</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">üìö Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">‚è±Ô∏è Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">25</span></span>
                    <span class="timer" id="timer">62:30</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">üîÄ Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>‚Üê Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">‚Üê Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">üîÄ Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">üìä Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">üí° Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">‚Üê Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "What is an IAM user group and what is its primary purpose?", options: ["A security boundary that limits the maximum permissions an IAM user can have, preventing privilege escalation", "A collection of IAM users that allows you to specify permissions for multiple users simultaneously", "A temporary credential provider that generates short-lived tokens for users to assume roles across accounts", "An authentication mechanism that validates user identity using multi-factor authentication before granting access"], correct: 1, explanation: "An IAM user group is a collection of IAM users that simplifies permission management by allowing you to attach policies to the group. All users in the group automatically receive those permissions, making it easier to manage permissions for multiple users at once.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html" },
            { id: 2, question: "Which statement accurately describes IAM user group limitations?", options: ["User groups can contain multiple users, and users can belong to multiple groups, but groups cannot be nested", "User groups can be nested up to three levels deep, and users inherit permissions from all parent groups", "Each user can belong to only one user group at a time to prevent permission conflicts", "User groups can contain other groups and IAM roles, allowing for hierarchical permission structures"], correct: 0, explanation: "IAM user groups can contain many users, and a user can belong to multiple groups. However, user groups cannot be nested - they can only contain users, not other groups. There is no default group that includes all users; you must create and manage group memberships explicitly.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html" },
            { id: 3, question: "Can you specify an IAM user group as a Principal in a resource-based policy?", options: ["Yes, groups can be specified as principals in resource-based policies for simplified access management", "Yes, but only for S3 bucket policies and SQS queue policies; other services do not support group principals", "No, groups relate to permissions not authentication, and principals must be authenticated IAM entities", "No, unless you enable the 'Allow Groups as Principals' setting in IAM account settings first"], correct: 2, explanation: "You cannot identify an IAM user group as a Principal in a policy (such as a resource-based policy) because groups relate to permissions, not authentication. Principals are authenticated IAM entities like users, roles, or federated users. To grant resource access to group members, attach identity-based policies to the group.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html" },
            { id: 4, question: "When AWS evaluates identity-based policies and resource-based policies together, how are the resulting permissions determined?", options: ["The resulting permissions are the intersection; both policy types must explicitly allow an action", "The resulting permissions are the union; if either policy allows an action, it's allowed (explicit deny overrides)", "Identity-based policies always take precedence over resource-based policies in case of conflicts", "Resource-based policies are evaluated first; identity-based policies only apply if resource policies are absent"], correct: 1, explanation: "When evaluating identity-based and resource-based policies, the resulting permissions are the union of the two. If an action is allowed by an identity-based policy, a resource-based policy, or both, AWS allows the action. However, an explicit deny in either policy overrides any allow.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html" },
            { id: 5, question: "How does AWS evaluate identity-based policies when a permissions boundary is attached to an IAM user?", options: ["The resulting permissions are the union; the user gets permissions from both the identity policy and boundary", "The resulting permissions are the intersection; the boundary limits the maximum permissions the user can have", "The permissions boundary completely replaces identity-based policies until the boundary is removed", "Identity-based policies are evaluated first; the permissions boundary only applies if policies grant excessive permissions"], correct: 1, explanation: "When AWS evaluates identity-based policies with a permissions boundary, the resulting permissions are the intersection of the two categories. Adding a permissions boundary might reduce the actions a user can perform. An explicit deny in either overrides any allow. This is an advanced feature for enforcing maximum permission limits.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html" },
            { id: 6, question: "When an IAM user in an AWS Organizations member account accesses a resource without a resource-based policy, which policies determine the resulting permissions?", options: ["Identity-based policies only; SCPs and RCPs do not apply to IAM users, only to roles", "Identity-based policies and SCPs only; RCPs apply only to resource-based policies", "Identity-based policies, SCPs, and RCPs; resulting permissions are the intersection of all three", "Identity-based policies, SCPs, and RCPs; resulting permissions are the union of all three"], correct: 2, explanation: "When a user belongs to an account in an organization and accesses a resource without a resource-based policy, the resulting permissions are the intersection of the user's identity-based policies, Service Control Policies (SCPs), and Resource Control Policies (RCPs). An action must be allowed by all three. An explicit deny in any of these overrides the allow.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html" },
            { id: 7, question: "What is the difference between an explicit deny and an implicit deny in IAM policy evaluation?", options: ["Explicit denies can be overridden by higher-priority allow statements; implicit denies are permanent and cannot be overridden", "Explicit denies result from a Deny statement in an applicable policy; implicit denies occur when no Allow statement exists", "Explicit denies apply to principal-based policies only; implicit denies apply to resource-based policies only", "Explicit denies are temporary and expire after 24 hours; implicit denies remain until explicitly allowed"], correct: 1, explanation: "An explicit deny occurs when an applicable policy includes a Deny statement. An implicit deny occurs when there is no applicable Deny statement and no applicable Allow statement. By default, IAM principals are denied access unless explicitly allowed. Explicit denies always override allows.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html" },
            { id: 8, question: "What is the fundamental principle of IAM policy evaluation when both Allow and Deny statements apply to a request?", options: ["The most recently created policy takes precedence, whether it contains Allow or Deny", "Allow statements take precedence over Deny statements to enable least-privilege access patterns", "Deny statements always take precedence; if both Allow and Deny apply, the Deny overrides the Allow", "The policy evaluation engine prompts for administrator approval when conflicting statements exist"], correct: 2, explanation: "The fundamental principle is that an explicit Deny always wins. If an Allow and Deny statement both apply to a request, the Deny statement takes precedence and overrides the Allow. This applies across all policy types including identity-based, resource-based, permissions boundaries, SCPs, and RCPs.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html" },
            { id: 9, question: "How many MFA devices can be registered for a single IAM user or root user account?", options: ["Only one MFA device per user to ensure unique authentication credentials", "Up to two MFA devices: one primary and one backup for redundancy purposes", "Up to eight MFA devices of any type; only one device is needed to sign in", "Up to five MFA devices, but virtual MFA apps count separately from hardware devices"], correct: 2, explanation: "AWS account root users and IAM users can register up to eight MFA devices of any combination of supported types. Registering multiple devices provides flexibility and reduces access interruption risk if a device is lost or broken. You only need one MFA device to sign in to the console or create a CLI session.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 10, question: "Which MFA types does AWS currently support for IAM users?", options: ["Passkeys and security keys (FIDO), virtual authenticator applications, and hardware TOTP tokens", "Virtual authenticator applications, hardware TOTP tokens, and SMS text message-based MFA", "Passkeys and security keys (FIDO), biometric authentication, and smart card-based MFA", "Virtual authenticator applications, push notification-based MFA, and USB security keys"], correct: 0, explanation: "AWS supports three MFA types: 1) Passkeys and security keys (FIDO2-based device-bound and synced passkeys), 2) Virtual authenticator applications (software-based TOTP), and 3) Hardware TOTP tokens. AWS ended support for enabling SMS text message-based MFA and recommends switching to alternative methods.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 11, question: "What are passkeys and how do they differ from traditional security keys?", options: ["Passkeys are virtual devices stored in cloud credential managers; security keys are physical hardware devices", "Passkeys use SMS-based authentication codes; security keys use TOTP algorithms for code generation", "Passkeys require biometric authentication on every use; security keys only require PIN entry once per session", "Passkeys are single-use tokens that expire after authentication; security keys are permanent devices"], correct: 0, explanation: "Passkeys based on FIDO standards use public key cryptography for phishing-resistant authentication. AWS supports two types: device-bound passkeys (physical security keys like YubiKey) and synced passkeys (stored in credential managers from Google, Apple, Microsoft, 1Password, Dashlane, Bitwarden). Synced passkeys can be backed up and used across devices.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 12, question: "How do virtual authenticator applications implement MFA for AWS?", options: ["They generate device-unique codes based on the device's hardware serial number that AWS validates server-side", "They implement the time-based one-time password (TOTP) algorithm and support multiple tokens on a single device", "They use AWS's proprietary authentication algorithm that syncs with AWS's time servers every 30 seconds", "They create encrypted connections to AWS IAM service endpoints that validate user biometric data"], correct: 1, explanation: "Virtual authenticator applications (like Google Authenticator, Authy) run on phones or other devices and emulate physical MFA devices. They implement the TOTP (time-based one-time password) algorithm defined in RFC 6238 and support multiple tokens on a single device. Each token must be unique to a user.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 13, question: "What limitation applies to hardware TOTP tokens used with AWS accounts?", options: ["Hardware TOTP tokens expire after 2 years and must be replaced with new devices from AWS-approved vendors", "Hardware TOTP tokens can only be used with the root user account, not with IAM users for security reasons", "Hardware TOTP tokens are device-specific to AWS accounts and must be purchased from AWS-approved sources with shared token seeds", "Hardware TOTP tokens require periodic recalibration every 90 days using a special AWS synchronization utility"], correct: 2, explanation: "Hardware TOTP tokens used with AWS are device-specific and can only be used with AWS accounts. They must be purchased from specific AWS-approved sources (specific SafeNet products) because the token seeds (secret keys) must be shared securely with AWS at production time. Tokens from other sources will not work with IAM.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 14, question: "What is a credential report in IAM and what information does it contain?", options: ["A real-time dashboard showing active sessions, API calls, and resource access patterns for all IAM users", "A CSV file listing all users in your account and the status of their credentials including passwords, access keys, and MFA devices", "An encrypted audit log of all authentication attempts, both successful and failed, for compliance reporting", "A CloudWatch Logs stream containing detailed IAM policy evaluation results for troubleshooting access denials"], correct: 1, explanation: "A credential report is a CSV file that lists all IAM users in your account and the status of their various credentials including passwords, access keys (first two per user), MFA devices, and X.509 certificates. You can generate reports as frequently as once every four hours for credential auditing.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_getting-report.html" },
            { id: 15, question: "Which IAM credentials are included in a credential report?", options: ["All IAM credentials including passwords, all access keys, MFA devices, X.509 certificates, and service-specific credentials", "IAM-managed credentials only: passwords, first two access keys per user, MFA devices, and X.509 certificates", "Active credentials only: currently valid passwords, non-expired access keys, and enabled MFA devices", "Root user and IAM user credentials including SSH keys, API tokens, and database passwords"], correct: 1, explanation: "Credential reports include IAM-managed credentials: passwords, the first two access keys per user (not additional keys beyond the first two), MFA devices, and X.509 certificates. Service-specific credentials for services like AWS CodeCommit or Amazon Keyspaces are not included in the report.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_getting-report.html" },
            { id: 16, question: "What permissions are required to generate and download IAM credential reports?", options: ["iam:GenerateCredentialReport to create reports; iam:GetCredentialReport to download them", "iam:CreateReport to generate reports; iam:DownloadReport to retrieve them from S3", "iam:GenerateReport and iam:ListCredentials to create and access reports", "Only iam:GetCredentialReport is needed; AWS automatically generates reports every 4 hours"], correct: 0, explanation: "To generate credential reports, users need iam:GenerateCredentialReport permission. To download and view reports, users need iam:GetCredentialReport permission. These are separate actions to allow separation of duties between report generation and report access.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_getting-report.html" },
            { id: 17, question: "How frequently can you generate IAM credential reports?", options: ["Once every hour; more frequent generation is throttled to prevent API abuse", "Once every four hours; reports generated more frequently return the most recent existing report", "Once per day; credential reports are resource-intensive operations with strict rate limits", "Unlimited frequency; reports are generated on-demand with no throttling or rate limits"], correct: 1, explanation: "You can generate credential reports as frequently as once every four hours. If you attempt to generate a report more frequently than that, AWS returns the most recently generated report instead of creating a new one. This limit helps manage the computational overhead of report generation.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_getting-report.html" },
            { id: 18, question: "What password policy settings can be configured for IAM users?", options: ["Minimum length, character complexity requirements, password expiration periods, and password reuse prevention", "Minimum length only; AWS does not support complexity requirements for compatibility with legacy systems", "All settings including biometric requirements, device binding, and geographic access restrictions", "Complexity requirements and expiration only; minimum length is fixed at 8 characters per AWS security standards"], correct: 0, explanation: "AWS allows you to set custom password policies specifying minimum length, complexity requirements (uppercase, lowercase, numbers, non-alphanumeric characters), mandatory password rotation periods, and password reuse prevention. The default policy applies if no custom policy is configured. Password policies do not apply to root users or access keys.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_passwords_account-policy.html" },
            { id: 19, question: "When do IAM password policy settings take effect for existing users?", options: ["Immediately upon policy change; all users must reset passwords within 24 hours to comply with new policy", "At the next scheduled password rotation; changes do not affect current passwords until expiration", "On the next password change except for expiration periods which take effect immediately", "After a 7-day grace period allowing users time to prepare for new password requirements"], correct: 2, explanation: "Password policy settings are enforced at the next password change for existing users, not retroactively on current passwords. The exception is password expiration periods, which take effect immediately after policy changes. This means users with non-compliant passwords can continue using them until they change their password.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_passwords_account-policy.html" },
            { id: 20, question: "Which AWS service does AWS recommend for centralized, MFA-protected access management instead of managing individual IAM user credentials?", options: ["AWS Secrets Manager for storing and rotating IAM user credentials with automatic MFA enforcement", "AWS IAM Identity Center (formerly AWS SSO) for centralized single sign-on with MFA protection", "AWS Directory Service for Active Directory to manage IAM users through corporate directory federation", "AWS Control Tower for enforcing MFA policies across all accounts using preventive guardrails"], correct: 1, explanation: "AWS recommends IAM Identity Center (formerly AWS SSO) for centralized access management. It provides MFA-protected single sign-on access to multiple AWS accounts from one place. You can create identities in IAM Identity Center or connect to existing SAML 2.0 compatible identity providers, reducing the need to manage individual IAM users.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 21, question: "What happens to unassigned virtual MFA devices in your AWS account?", options: ["They remain indefinitely until manually deleted by an administrator using the IAM console", "They are automatically deleted when adding new virtual MFA devices, allowing reuse of device names", "They are archived to S3 Glacier after 90 days of inactivity for compliance and audit purposes", "They are automatically deactivated but retained for 30 days before permanent deletion"], correct: 1, explanation: "Unassigned virtual MFA devices (devices created but not assigned to any root user or IAM user) are automatically deleted when you're adding new virtual MFA devices either via the console or during sign-in. This cleanup allows you to reuse device names and helps manage the number of devices in your account.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 22, question: "Can you use the same FIDO security key for multiple AWS accounts?", options: ["No, each security key can only be registered to one AWS account for security isolation", "Yes, a single security key can support multiple root user accounts and IAM users across different AWS accounts", "Yes, but only for accounts within the same AWS Organization; cross-organization use is not supported", "No, but you can clone security key credentials to multiple physical devices for multi-account access"], correct: 1, explanation: "A single FIDO security key can support multiple root user accounts and IAM users across different AWS accounts. This makes hardware security keys more practical for users who manage multiple AWS accounts. Each account maintains its own registration, but the same physical key can be used for all of them.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 23, question: "What connectivity methods do FIDO security keys support for authentication with AWS?", options: ["USB, Bluetooth, and NFC connections; platform authenticators like Touch ID or Face ID can also be used", "USB connections only; wireless methods are not supported due to security concerns", "Bluetooth and NFC only; USB connections are deprecated in favor of wireless authentication methods", "USB and proprietary AWS wireless protocol; standard Bluetooth and NFC are not supported"], correct: 0, explanation: "FIDO security keys support multiple connectivity methods including USB, Bluetooth, and NFC. Additionally, platform authenticators like Touch ID on MacBooks or Face ID on mobile devices can unlock credential managers to sign in to AWS. This flexibility allows users to choose authentication methods that best fit their devices and workflows.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 24, question: "What is a key limitation when using FIDO security keys with AWS STS API operations?", options: ["Security keys require interactive browser-based authentication and cannot be used for programmatic STS API calls", "Security keys can only be used with STS AssumeRole operations, not with GetSessionToken or GetFederationToken", "Security keys must be re-registered every 30 days when used with STS for temporary credential generation", "Security keys cannot be used as the primary MFA device; they must be secondary to a virtual MFA device"], correct: 0, explanation: "You cannot pass MFA information for a FIDO security key to AWS STS API operations to request temporary credentials. FIDO security keys require interactive authentication through a browser. For programmatic access requiring MFA, use virtual MFA devices or hardware TOTP tokens instead.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" },
            { id: 25, question: "Why does AWS recommend registering multiple MFA devices for IAM users?", options: ["Multiple devices improve authentication speed by allowing load balancing across devices during high-traffic periods", "Multiple devices enable different security levels (low/medium/high) based on the sensitivity of operations being performed", "Multiple devices provide backup access if one device is lost/stolen and eliminate single points of failure", "Multiple devices are required for compliance with SOC 2 and ISO 27001 security certification standards"], correct: 2, explanation: "AWS recommends registering multiple MFA devices (up to 8) to raise security while providing backup access. If one device is lost, stolen, or inaccessible, users can authenticate with another device without performing account recovery. This is especially useful for geographically dispersed teams and allows keeping backup hardware devices in secure locations like vaults.", docLink: "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">üìñ Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">üìÑ View AWS Documentation ‚Üí</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">IAM Fundamentals</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next ‚Üí'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? 'üéâ PASSED!' : 'üìö Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '‚úì' : '‚úó'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
